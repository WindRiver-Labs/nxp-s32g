From bbdd51c2259ed6a002d59294fdb4fece051cd32e Mon Sep 17 00:00:00 2001
From: Ghennadi Procopciuc <ghennadi.procopciuc@nxp.com>
Date: Tue, 13 Jul 2021 13:25:34 +0300
Subject: [PATCH 12/49] dt-bindings: net/can: Update LLCE CAN logger
 documentation

commit bbdd51c2259ed6a002d59294fdb4fece051cd32e from
https://source.codeaurora.org/external/autobsps32/linux

Upstream-Status: Pending

Issue: ALB-5830, ALB-7344
Signed-off-by: Ghennadi Procopciuc <ghennadi.procopciuc@nxp.com>
Signed-off-by: Zhantao Tang <zhantao.tang@windriver.com>
---
 .../bindings/net/can/fsl-llcelogger.yaml      | 62 -------------------
 .../net/can/nxp,s32g-llce-can-logger.yaml     | 40 ++++++++++++
 2 files changed, 40 insertions(+), 62 deletions(-)
 delete mode 100644 Documentation/devicetree/bindings/net/can/fsl-llcelogger.yaml
 create mode 100644 Documentation/devicetree/bindings/net/can/nxp,s32g-llce-can-logger.yaml

diff --git a/Documentation/devicetree/bindings/net/can/fsl-llcelogger.yaml b/Documentation/devicetree/bindings/net/can/fsl-llcelogger.yaml
deleted file mode 100644
index a6041828abc9..000000000000
--- a/Documentation/devicetree/bindings/net/can/fsl-llcelogger.yaml
+++ /dev/null
@@ -1,62 +0,0 @@
-# SPDX-License-Identifier: GPL-2.0
-%YAML 1.2
----
-$id: http://devicetree.org/schemas/net/can/fsl-llcelogger.yaml#
-$schema: http://devicetree.org/meta-schemas/core.yaml#
-
-title: LLCE engine on NXP's ARM based SOCs.
-
-maintainers:
-  - Dorin Ionita <dorin.ionita@nxp.com>
-
-description: |
-  This driver is used on S32G2xx to log CAN messages received from LLCE.
-  It provides a interface to userspace, as a char device, on which you
-  can cat or you can echo a value to set the log size to that dimension.
-  Separate LLCE configuration for CAN is expected.
-  It assumes that the LLCE Firmware is already loaded.
-
-properties:
-  compatible:
-    const: fsl,s32g-llcelogger
-
-  reg:
-    description: |
-      Offset and length of the register set or shared memory regions
-      for this device (LLCE HW IP)
-
-  reg-names:
-    description: |
-      Name for the mapped registers or shared memory regions
-
-  interrupts:
-    description: |
-      Interrupt tuple for this device - CAN frame processed.
-
-required:
-  - compatible
-  - reg
-  - reg-names
-  - interrupts
-
-additionalProperties: false
-
-examples:
-  - |
-    llce: llcelogger@43000000 {
-      compatible = "fsl,s32g-llcelogger";
-      reg = <0x43000000 0x1000000>,
-        <0x43800000 0x3D000>,
-        <0x43A0C40C 0x4>,
-        <0x43A0C424 0x4>,
-        <0x43A0C014 0x4>,
-        <0x43A0C408	0x4>;
-      reg-names = "llce-range",
-        "llce-shared-mem",
-        "fifo-ier",
-        "fifo-pop0",
-        "fifo-push0",
-        "fifo-status1";
-        interrupts = <0x0 184 0x4>;
-    };
-...
diff --git a/Documentation/devicetree/bindings/net/can/nxp,s32g-llce-can-logger.yaml b/Documentation/devicetree/bindings/net/can/nxp,s32g-llce-can-logger.yaml
new file mode 100644
index 000000000000..c50020c098c1
--- /dev/null
+++ b/Documentation/devicetree/bindings/net/can/nxp,s32g-llce-can-logger.yaml
@@ -0,0 +1,40 @@
+# SPDX-License-Identifier: (GPL-2.0-only or BSD-2-Clause)
+%YAML 1.2
+---
+$id: http://devicetree.org/schemas/net/can/nxp,s32g-llce-can-logger.yaml#
+$schema: http://devicetree.org/meta-schemas/core.yaml#
+
+title: LLCE CAN Logger on NXP's ARM based SOCs.
+
+maintainers:
+  - Dorin Ionita <dorin.ionita@nxp.com>
+
+description: |
+  This driver is used on S32G2xx to log CAN messages received from LLCE.
+  It provides a interface to userspace, as a char device.
+  Separate LLCE configuration for CAN is expected.
+  It assumes that the LLCE Firmware is already loaded.
+
+properties:
+  compatible:
+    const: nxp,s32g-llce-can-logger
+
+  mboxes:
+    description: |
+      Link to LLCE CAN Logger mailbox.
+      (see mailbox/nxp,s32g-llce-mailbox.yaml for more details)
+
+required:
+  - compatible
+  - mboxes
+
+additionalProperties: false
+
+examples:
+  - |
+    #include <dt-bindings/mailbox/nxp-llce-mb.h>
+    llce_can_logger: llce_can_logger {
+      compatible = "nxp,s32g-llce-can-logger";
+      mboxes = <&llce_mb S32G_LLCE_CAN_LOGGER_MB 0>;
+    };
+...
-- 
2.17.1

