From 8f896f9c1e3241fbd329022b1453a7a1d30d0497 Mon Sep 17 00:00:00 2001
From: Ondrej Spacek <ondrej.spacek@nxp.com>
Date: Fri, 30 Jul 2021 08:12:58 +0200
Subject: [PATCH 03/49] doc: Add dma-coherent property to s32 GMAC
 documentation and make it required.

commit 8f896f9c1e3241fbd329022b1453a7a1d30d0497 from
https://source.codeaurora.org/external/autobsps32/linux

Upstream-Status: Pending

Issue: ALB-7461
Signed-off-by: Ondrej Spacek <ondrej.spacek@nxp.com>
Signed-off-by: Zhantao Tang <zhantao.tang@windriver.com>
---
 Documentation/devicetree/bindings/net/fsl,s32cc-dwmac.yaml | 6 ++++++
 1 file changed, 6 insertions(+)

diff --git a/Documentation/devicetree/bindings/net/fsl,s32cc-dwmac.yaml b/Documentation/devicetree/bindings/net/fsl,s32cc-dwmac.yaml
index 8cbd4be983ce..fd2da8f6e7d5 100644
--- a/Documentation/devicetree/bindings/net/fsl,s32cc-dwmac.yaml
+++ b/Documentation/devicetree/bindings/net/fsl,s32cc-dwmac.yaml
@@ -24,6 +24,10 @@ properties:
       - description: Main GMAC registers
       - description: S32 MAC control registers
 
+  dma-coherent:
+    description:
+      Declares GMAC device as DMA coherent
+
   interrupts:
     description: Common GMAC interrupt
 
@@ -96,6 +100,7 @@ patternProperties:
     additionalProperties: true
 
 required:
+  - dma-coherent
   - compatible
   - reg
   - interrupts
@@ -126,6 +131,7 @@ examples:
         rx-fifo-depth = <20480>;
         phy-names = "gmac_xpcs";
         phys = <&serdes0 PHY_TYPE_XPCS 0 0>;
+        dma-coherent;
         clocks = <&clks S32GEN1_SCMI_CLK_GMAC0_AXI>,
            <&clks S32GEN1_SCMI_CLK_GMAC0_AXI>,
            <&clks S32GEN1_SCMI_CLK_GMAC0_TX_SGMII>,
-- 
2.17.1

