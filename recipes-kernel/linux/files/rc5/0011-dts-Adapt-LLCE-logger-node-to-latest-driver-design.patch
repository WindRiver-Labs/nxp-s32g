From 24488f7400456c794e5c92d9186d138547a493bb Mon Sep 17 00:00:00 2001
From: Ghennadi Procopciuc <ghennadi.procopciuc@nxp.com>
Date: Tue, 13 Jul 2021 13:25:10 +0300
Subject: [PATCH 11/49] dts: Adapt LLCE logger node to latest driver design

commit 24488f7400456c794e5c92d9186d138547a493bb from
https://source.codeaurora.org/external/autobsps32/linux

Upstream-Status: Pending

Issue: ALB-5830, ALB-7344
Signed-off-by: Ghennadi Procopciuc <ghennadi.procopciuc@nxp.com>
Signed-off-by: Zhantao Tang <zhantao.tang@windriver.com>
---
 arch/arm64/boot/dts/freescale/fsl-s32g.dtsi | 20 +++-----------------
 1 file changed, 3 insertions(+), 17 deletions(-)

diff --git a/arch/arm64/boot/dts/freescale/fsl-s32g.dtsi b/arch/arm64/boot/dts/freescale/fsl-s32g.dtsi
index 8fce8c46ed43..8cef26c803be 100644
--- a/arch/arm64/boot/dts/freescale/fsl-s32g.dtsi
+++ b/arch/arm64/boot/dts/freescale/fsl-s32g.dtsi
@@ -528,23 +528,6 @@
 		status = "disabled";
 	};
 
-	llce: llcelogger@43000000 {
-		compatible = "fsl,s32g-llcelogger";
-		reg = <0x0 0x43000000 0x0 0x1000000>,
-			<0x0 0x43800000 0x0 0x3D000>,
-			<0x0 0x43A0C40C 0x0 0x4>,
-			<0x0 0x43A0C424 0x0 0x4>,
-			<0x0 0x43A0C014 0x0 0x4>,
-			<0x0 0x43A0C408	0x0 0x4>;
-		reg-names = "llce-range",
-			"llce-shared-mem",
-			"fifo-ier",
-			"fifo-pop0",
-			"fifo-push0",
-			"fifo-status1";
-		interrupts = <0x0 184 0x4>;
-	};
-
 	llce0_sram: llce0_sram@43000000 {
 		compatible = "nxp,s32g-llce-sram";
 		reg = <0x0 0x43000000 0x0 0x2000>;
@@ -643,6 +626,9 @@
 			status = "okay";
 		};
 
+		llce_can_logger: llce_can_logger {
+			compatible = "nxp,s32g-llce-can-logger";
+			mboxes = <&llce_mb S32G_LLCE_CAN_LOGGER_MB 0>;
 			status = "okay";
 		};
 
-- 
2.17.1

