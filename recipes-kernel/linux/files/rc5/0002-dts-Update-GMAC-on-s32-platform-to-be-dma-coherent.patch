From b7292f162f1d03a6e749a28eb59d0bf1e5c2c3bf Mon Sep 17 00:00:00 2001
From: Ondrej Spacek <ondrej.spacek@nxp.com>
Date: Fri, 30 Jul 2021 07:35:22 +0200
Subject: [PATCH 02/49] dts: Update GMAC on s32 platform to be dma-coherent.

commit b7292f162f1d03a6e749a28eb59d0bf1e5c2c3bf from
https://source.codeaurora.org/external/autobsps32/linux

Upstream-Status: Pending

Issue: ALB-7461
Signed-off-by: Ondrej Spacek <ondrej.spacek@nxp.com>
Signed-off-by: Zhantao Tang <zhantao.tang@windriver.com>
---
 arch/arm64/boot/dts/freescale/fsl-s32-gen1.dtsi | 1 +
 1 file changed, 1 insertion(+)

diff --git a/arch/arm64/boot/dts/freescale/fsl-s32-gen1.dtsi b/arch/arm64/boot/dts/freescale/fsl-s32-gen1.dtsi
index f226cf5d28f8..87d002cb6ed9 100644
--- a/arch/arm64/boot/dts/freescale/fsl-s32-gen1.dtsi
+++ b/arch/arm64/boot/dts/freescale/fsl-s32-gen1.dtsi
@@ -821,6 +821,7 @@
 		rx-fifo-depth = <20480>;
 		phy-names = "gmac_xpcs";
 		phys = <&serdes0 PHY_TYPE_XPCS 0 0>;
+		dma-coherent;
 		clocks = <&clks S32GEN1_SCMI_CLK_GMAC0_AXI>,
 			 <&clks S32GEN1_SCMI_CLK_GMAC0_AXI>,
 			 <&clks S32GEN1_SCMI_CLK_GMAC0_TX_SGMII>,
-- 
2.17.1

