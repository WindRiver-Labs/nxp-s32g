From 31bbaabfcc62db9fb325d20754f11a073968bb9a Mon Sep 17 00:00:00 2001
From: Catalin Udma <catalin-dan.udma@nxp.com>
Date: Fri, 15 Oct 2021 07:26:23 +0300
Subject: [PATCH 07/14] s32: flashmap: Increase fdt and rootfs offsets to allow
 larger kernel

Issue: ALB-7968

Upstream-Status: Pending 

Signed-off-by: Catalin Udma <catalin-dan.udma@nxp.com>
Signed-off-by: Zhantao Tang <zhantao.tang@windriver.com>
---
 include/configs/s32.h | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

diff --git a/include/configs/s32.h b/include/configs/s32.h
index 838f00596e..6b5be37eb7 100644
--- a/include/configs/s32.h
+++ b/include/configs/s32.h
@@ -143,19 +143,19 @@
  * 'conf/machine/include/s32*flashmap.inc'.
  */
 #define CONFIG_SYS_FLASH_BASE		CONFIG_SYS_FSL_FLASH0_BASE
-#define KERNEL_FLASH_MAXSIZE		0xd00000
+#define KERNEL_FLASH_MAXSIZE		0xe00000
 #define FDT_FLASH_MAXSIZE		0x100000
 #define RAMDISK_FLASH_MAXSIZE		0x2000000
 #define UBOOT_FLASH_ADDR		(CONFIG_SYS_FSL_FLASH0_BASE + 0x0)
 
 #ifdef CONFIG_S32_GEN1
 #  define KERNEL_FLASH_ADDR	(CONFIG_SYS_FSL_FLASH0_BASE + 0x1f0000)
-#  define FDT_FLASH_ADDR	(CONFIG_SYS_FSL_FLASH0_BASE + 0xef0000)
-#  define RAMDISK_FLASH_ADDR	(CONFIG_SYS_FSL_FLASH0_BASE + 0xff0000)
+#  define FDT_FLASH_ADDR	(CONFIG_SYS_FSL_FLASH0_BASE + 0xff0000)
+#  define RAMDISK_FLASH_ADDR	(CONFIG_SYS_FSL_FLASH0_BASE + 0x10f0000)
 #else
 #  define KERNEL_FLASH_ADDR	(CONFIG_SYS_FSL_FLASH0_BASE + 0x100000)
-#  define FDT_FLASH_ADDR	(CONFIG_SYS_FSL_FLASH0_BASE + 0xe00000)
-#  define RAMDISK_FLASH_ADDR	(CONFIG_SYS_FSL_FLASH0_BASE + 0xf00000)
+#  define FDT_FLASH_ADDR	(CONFIG_SYS_FSL_FLASH0_BASE + 0xf00000)
+#  define RAMDISK_FLASH_ADDR	(CONFIG_SYS_FSL_FLASH0_BASE + 0x1000000)
 #endif
 
 #if defined(CONFIG_ENV_IS_IN_FLASH) || defined(CONFIG_ENV_IS_IN_SPI_FLASH)
-- 
2.17.1

