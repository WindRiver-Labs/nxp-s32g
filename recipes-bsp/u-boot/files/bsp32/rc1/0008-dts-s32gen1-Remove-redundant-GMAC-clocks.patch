From 3f49905f9502dff392c088dccba1e8ab5734ce88 Mon Sep 17 00:00:00 2001
From: Ghennadi Procopciuc <ghennadi.procopciuc@nxp.com>
Date: Wed, 24 Nov 2021 10:20:01 +0200
Subject: [PATCH 08/20] dts: s32gen1: Remove redundant GMAC clocks

Issue: ALB-8216
Upstream-Status: Pending 

Signed-off-by: Ghennadi Procopciuc <ghennadi.procopciuc@nxp.com>
Signed-off-by: Zhantao Tang <zhantao.tang@windriver.com>
---
 arch/arm/dts/fsl-s32g.dtsi  | 12 +++++-------
 arch/arm/dts/fsl-s32r45.dts | 10 ++++------
 2 files changed, 9 insertions(+), 13 deletions(-)

diff --git a/arch/arm/dts/fsl-s32g.dtsi b/arch/arm/dts/fsl-s32g.dtsi
index 8e49768b4d..cb3668c570 100644
--- a/arch/arm/dts/fsl-s32g.dtsi
+++ b/arch/arm/dts/fsl-s32g.dtsi
@@ -160,7 +160,7 @@
 		reg = <0x0 0x46000000 0x0 0x1000000>;
 		clocks = <&clks S32G_SCMI_CLK_PFE_PE>,
 			<&clks S32G_SCMI_CLK_PFE_AXI>,
-			<&clks S32GEN1_SCMI_CLK_GMAC0_TS_RGMII>,
+			<&clks S32GEN1_SCMI_CLK_GMAC0_TS>,
 			/* PFE0 */
 			<&clks S32G_SCMI_CLK_PFE0_RX_SGMII>,
 			<&clks S32G_SCMI_CLK_PFE0_TX_SGMII>,
@@ -340,16 +340,14 @@
 };
 
 &gmac0 {
-	clocks = <&clks S32GEN1_SCMI_CLK_GMAC0_RX_SGMII>,
+	clocks = <&clks S32GEN1_SCMI_CLK_GMAC0_TS>,
+		 <&clks S32GEN1_SCMI_CLK_GMAC0_RX_SGMII>,
 		 <&clks S32GEN1_SCMI_CLK_GMAC0_TX_SGMII>,
-		 <&clks S32GEN1_SCMI_CLK_GMAC0_TS_SGMII>,
 		 <&clks S32GEN1_SCMI_CLK_GMAC0_RX_RGMII>,
 		 <&clks S32GEN1_SCMI_CLK_GMAC0_TX_RGMII>,
-		 <&clks S32GEN1_SCMI_CLK_GMAC0_TS_RGMII>,
 		 <&clks S32GEN1_SCMI_CLK_GMAC0_AXI>;
-	clock-names = "rx_sgmii", "tx_sgmii", "ts_sgmii",
-		      "rx_rgmii", "tx_rgmii", "ts_rgmii",
-		      "axi";
+	clock-names = "ts", "rx_sgmii", "tx_sgmii",
+		      "rx_rgmii", "tx_rgmii", "axi";
 	pinctrl-0 = <&pinctrl0_gmac0 &pinctrl0_gmac0_mdio>;
 	pinctrl-1 = <&pinctrl0_gmac0_mdio>;
 	pinctrl-names = "gmac_rgmii", "gmac_sgmii";
diff --git a/arch/arm/dts/fsl-s32r45.dts b/arch/arm/dts/fsl-s32r45.dts
index b4f318074d..fe1f66eba0 100644
--- a/arch/arm/dts/fsl-s32r45.dts
+++ b/arch/arm/dts/fsl-s32r45.dts
@@ -249,16 +249,14 @@
 };
 
 &gmac0 {
-	clocks = <&clks S32GEN1_SCMI_CLK_GMAC0_RX_SGMII>,
+	clocks = <&clks S32GEN1_SCMI_CLK_GMAC0_TS>,
+		 <&clks S32GEN1_SCMI_CLK_GMAC0_RX_SGMII>,
 		 <&clks S32GEN1_SCMI_CLK_GMAC0_TX_SGMII>,
-		 <&clks S32GEN1_SCMI_CLK_GMAC0_TS_SGMII>,
 		 <&clks S32GEN1_SCMI_CLK_GMAC0_RX_RGMII>,
 		 <&clks S32GEN1_SCMI_CLK_GMAC0_TX_RGMII>,
-		 <&clks S32GEN1_SCMI_CLK_GMAC0_TS_RGMII>,
 		 <&clks S32GEN1_SCMI_CLK_GMAC0_AXI>;
-	clock-names = "rx_sgmii", "tx_sgmii", "ts_sgmii",
-		      "rx_rgmii", "tx_rgmii", "ts_rgmii",
-		      "axi";
+	clock-names = "ts", "rx_sgmii", "tx_sgmii",
+		      "rx_rgmii", "tx_rgmii", "axi";
 	pinctrl-0 = <&pinctrl0_gmac0 &pinctrl0_gmac0_mdio>;
 	pinctrl-1 = <&pinctrl0_gmac0_mdio>;
 	pinctrl-names = "gmac_rgmii", "gmac_sgmii";
-- 
2.17.1

