From 066f7b680ac6f35fd92671061f0de23e3a75e543 Mon Sep 17 00:00:00 2001
From: Ghennadi Procopciuc <ghennadi.procopciuc@nxp.com>
Date: Wed, 24 Nov 2021 10:20:16 +0200
Subject: [PATCH 07/20] bindings: clock: Use one clock ID for GMAC TS clock

Remove TS clocks based on GMAC configuration due to
their redundancy

Issue: ALB-8216
Upstream-Status: Pending 

Signed-off-by: Ghennadi Procopciuc <ghennadi.procopciuc@nxp.com>
Signed-off-by: Zhantao Tang <zhantao.tang@windriver.com>
---
 .../dt-bindings/clock/s32gen1-scmi-clock.h    | 105 +++++++++---------
 include/dt-bindings/clock/s32r45-scmi-clock.h |  21 ++--
 2 files changed, 61 insertions(+), 65 deletions(-)

diff --git a/include/dt-bindings/clock/s32gen1-scmi-clock.h b/include/dt-bindings/clock/s32gen1-scmi-clock.h
index 2ee06823cc..c6cf849b91 100644
--- a/include/dt-bindings/clock/s32gen1-scmi-clock.h
+++ b/include/dt-bindings/clock/s32gen1-scmi-clock.h
@@ -37,83 +37,82 @@
 /* LINFlexD */
 #define S32GEN1_SCMI_CLK_LINFLEX_XBAR	S32GEN1_SCMI_CLK(14)
 #define S32GEN1_SCMI_CLK_LINFLEX_LIN	S32GEN1_SCMI_CLK(15)
+#define S32GEN1_SCMI_CLK_GMAC0_TS	S32GEN1_SCMI_CLK(16)
 /* GMAC0 - SGMII */
-#define S32GEN1_SCMI_CLK_GMAC0_RX_SGMII	S32GEN1_SCMI_CLK(16)
-#define S32GEN1_SCMI_CLK_GMAC0_TX_SGMII	S32GEN1_SCMI_CLK(17)
-#define S32GEN1_SCMI_CLK_GMAC0_TS_SGMII	S32GEN1_SCMI_CLK(18)
+#define S32GEN1_SCMI_CLK_GMAC0_RX_SGMII	S32GEN1_SCMI_CLK(17)
+#define S32GEN1_SCMI_CLK_GMAC0_TX_SGMII	S32GEN1_SCMI_CLK(18)
 /* GMAC0 - RGMII */
 #define S32GEN1_SCMI_CLK_GMAC0_RX_RGMII	S32GEN1_SCMI_CLK(19)
 #define S32GEN1_SCMI_CLK_GMAC0_TX_RGMII	S32GEN1_SCMI_CLK(20)
-#define S32GEN1_SCMI_CLK_GMAC0_TS_RGMII	S32GEN1_SCMI_CLK(21)
 /* GMAC0 - RMII */
-#define S32GEN1_SCMI_CLK_GMAC0_RX_RMII	S32GEN1_SCMI_CLK(22)
-#define S32GEN1_SCMI_CLK_GMAC0_TX_RMII	S32GEN1_SCMI_CLK(23)
-#define S32GEN1_SCMI_CLK_GMAC0_TS_RMII	S32GEN1_SCMI_CLK(24)
+#define S32GEN1_SCMI_CLK_GMAC0_RX_RMII	S32GEN1_SCMI_CLK(21)
+#define S32GEN1_SCMI_CLK_GMAC0_TX_RMII	S32GEN1_SCMI_CLK(22)
 /* GMAC0 - MII */
-#define S32GEN1_SCMI_CLK_GMAC0_RX_MII	S32GEN1_SCMI_CLK(25)
-#define S32GEN1_SCMI_CLK_GMAC0_TX_MII	S32GEN1_SCMI_CLK(26)
-#define S32GEN1_SCMI_CLK_GMAC0_TS_MII	S32GEN1_SCMI_CLK(27)
-#define S32GEN1_SCMI_CLK_GMAC0_AXI	S32GEN1_SCMI_CLK(28)
+#define S32GEN1_SCMI_CLK_GMAC0_RX_MII	S32GEN1_SCMI_CLK(23)
+#define S32GEN1_SCMI_CLK_GMAC0_TX_MII	S32GEN1_SCMI_CLK(24)
+#define S32GEN1_SCMI_CLK_GMAC0_AXI	S32GEN1_SCMI_CLK(25)
 /* SPI */
-#define S32GEN1_SCMI_CLK_SPI_REG	S32GEN1_SCMI_CLK(29)
-#define S32GEN1_SCMI_CLK_SPI_MODULE	S32GEN1_SCMI_CLK(30)
+#define S32GEN1_SCMI_CLK_SPI_REG	S32GEN1_SCMI_CLK(26)
+#define S32GEN1_SCMI_CLK_SPI_MODULE	S32GEN1_SCMI_CLK(27)
 /* QSPI */
-#define S32GEN1_SCMI_CLK_QSPI_REG	S32GEN1_SCMI_CLK(31)
-#define S32GEN1_SCMI_CLK_QSPI_AHB	S32GEN1_SCMI_CLK(32)
-#define S32GEN1_SCMI_CLK_QSPI_FLASH2X	S32GEN1_SCMI_CLK(33)
-#define S32GEN1_SCMI_CLK_QSPI_FLASH1X	S32GEN1_SCMI_CLK(34)
+#define S32GEN1_SCMI_CLK_QSPI_REG	S32GEN1_SCMI_CLK(28)
+#define S32GEN1_SCMI_CLK_QSPI_AHB	S32GEN1_SCMI_CLK(29)
+#define S32GEN1_SCMI_CLK_QSPI_FLASH2X	S32GEN1_SCMI_CLK(30)
+#define S32GEN1_SCMI_CLK_QSPI_FLASH1X	S32GEN1_SCMI_CLK(31)
 /* uSDHC */
-#define S32GEN1_SCMI_CLK_USDHC_AHB	S32GEN1_SCMI_CLK(35)
-#define S32GEN1_SCMI_CLK_USDHC_MODULE	S32GEN1_SCMI_CLK(36)
-#define S32GEN1_SCMI_CLK_USDHC_CORE	S32GEN1_SCMI_CLK(37)
-#define S32GEN1_SCMI_CLK_USDHC_MOD32K	S32GEN1_SCMI_CLK(38)
+#define S32GEN1_SCMI_CLK_USDHC_AHB	S32GEN1_SCMI_CLK(32)
+#define S32GEN1_SCMI_CLK_USDHC_MODULE	S32GEN1_SCMI_CLK(33)
+#define S32GEN1_SCMI_CLK_USDHC_CORE	S32GEN1_SCMI_CLK(34)
+#define S32GEN1_SCMI_CLK_USDHC_MOD32K	S32GEN1_SCMI_CLK(35)
 /* DDR */
-#define S32GEN1_SCMI_CLK_DDR_REG	S32GEN1_SCMI_CLK(39)
-#define S32GEN1_SCMI_CLK_DDR_PLL_REF	S32GEN1_SCMI_CLK(40)
-#define S32GEN1_SCMI_CLK_DDR_AXI	S32GEN1_SCMI_CLK(41)
+#define S32GEN1_SCMI_CLK_DDR_REG	S32GEN1_SCMI_CLK(36)
+#define S32GEN1_SCMI_CLK_DDR_PLL_REF	S32GEN1_SCMI_CLK(37)
+#define S32GEN1_SCMI_CLK_DDR_AXI	S32GEN1_SCMI_CLK(38)
 /* SRAM */
-#define S32GEN1_SCMI_CLK_SRAM_AXI	S32GEN1_SCMI_CLK(42)
-#define S32GEN1_SCMI_CLK_SRAM_REG	S32GEN1_SCMI_CLK(43)
+#define S32GEN1_SCMI_CLK_SRAM_AXI	S32GEN1_SCMI_CLK(39)
+#define S32GEN1_SCMI_CLK_SRAM_REG	S32GEN1_SCMI_CLK(40)
 /* I2C */
-#define S32GEN1_SCMI_CLK_I2C_REG	S32GEN1_SCMI_CLK(44)
-#define S32GEN1_SCMI_CLK_I2C_MODULE	S32GEN1_SCMI_CLK(45)
+#define S32GEN1_SCMI_CLK_I2C_REG	S32GEN1_SCMI_CLK(41)
+#define S32GEN1_SCMI_CLK_I2C_MODULE	S32GEN1_SCMI_CLK(42)
 /* SIUL2 */
-#define S32GEN1_SCMI_CLK_SIUL2_REG	S32GEN1_SCMI_CLK(46)
-#define S32GEN1_SCMI_CLK_SIUL2_FILTER	S32GEN1_SCMI_CLK(47)
+#define S32GEN1_SCMI_CLK_SIUL2_REG	S32GEN1_SCMI_CLK(43)
+#define S32GEN1_SCMI_CLK_SIUL2_FILTER	S32GEN1_SCMI_CLK(44)
 /* CRC */
-#define S32GEN1_SCMI_CLK_CRC_REG	S32GEN1_SCMI_CLK(48)
-#define S32GEN1_SCMI_CLK_CRC_MODULE	S32GEN1_SCMI_CLK(49)
+#define S32GEN1_SCMI_CLK_CRC_REG	S32GEN1_SCMI_CLK(45)
+#define S32GEN1_SCMI_CLK_CRC_MODULE	S32GEN1_SCMI_CLK(46)
 /* EIM0 */
-#define S32GEN1_SCMI_CLK_EIM0_REG	S32GEN1_SCMI_CLK(50)
-#define S32GEN1_SCMI_CLK_EIM0_MODULE	S32GEN1_SCMI_CLK(51)
+#define S32GEN1_SCMI_CLK_EIM0_REG	S32GEN1_SCMI_CLK(47)
+#define S32GEN1_SCMI_CLK_EIM0_MODULE	S32GEN1_SCMI_CLK(48)
 /* EIM0 */
-#define S32GEN1_SCMI_CLK_EIM123_REG	S32GEN1_SCMI_CLK(52)
-#define S32GEN1_SCMI_CLK_EIM123_MODULE	S32GEN1_SCMI_CLK(53)
+#define S32GEN1_SCMI_CLK_EIM123_REG	S32GEN1_SCMI_CLK(49)
+#define S32GEN1_SCMI_CLK_EIM123_MODULE	S32GEN1_SCMI_CLK(50)
 /* EIM */
-#define S32GEN1_SCMI_CLK_EIM_REG	S32GEN1_SCMI_CLK(54)
-#define S32GEN1_SCMI_CLK_EIM_MODULE	S32GEN1_SCMI_CLK(55)
+#define S32GEN1_SCMI_CLK_EIM_REG	S32GEN1_SCMI_CLK(51)
+#define S32GEN1_SCMI_CLK_EIM_MODULE	S32GEN1_SCMI_CLK(52)
 /* FCCU */
-#define S32GEN1_SCMI_CLK_FCCU_MODULE	S32GEN1_SCMI_CLK(56)
-#define S32GEN1_SCMI_CLK_FCCU_SAFE	S32GEN1_SCMI_CLK(57)
+#define S32GEN1_SCMI_CLK_FCCU_MODULE	S32GEN1_SCMI_CLK(53)
+#define S32GEN1_SCMI_CLK_FCCU_SAFE	S32GEN1_SCMI_CLK(54)
 /* RTC */
-#define S32GEN1_SCMI_CLK_RTC_REG	S32GEN1_SCMI_CLK(58)
-#define S32GEN1_SCMI_CLK_RTC_SIRC	S32GEN1_SCMI_CLK(59)
-#define S32GEN1_SCMI_CLK_RTC_FIRC	S32GEN1_SCMI_CLK(60)
+#define S32GEN1_SCMI_CLK_RTC_REG	S32GEN1_SCMI_CLK(55)
+#define S32GEN1_SCMI_CLK_RTC_SIRC	S32GEN1_SCMI_CLK(56)
+#define S32GEN1_SCMI_CLK_RTC_FIRC	S32GEN1_SCMI_CLK(57)
 /* SWT */
-#define S32GEN1_SCMI_CLK_SWT_MODULE	S32GEN1_SCMI_CLK(61)
-#define S32GEN1_SCMI_CLK_SWT_COUNTER	S32GEN1_SCMI_CLK(62)
+#define S32GEN1_SCMI_CLK_SWT_MODULE	S32GEN1_SCMI_CLK(58)
+#define S32GEN1_SCMI_CLK_SWT_COUNTER	S32GEN1_SCMI_CLK(59)
 /* STM */
-#define S32GEN1_SCMI_CLK_STM_MODULE	S32GEN1_SCMI_CLK(63)
-#define S32GEN1_SCMI_CLK_STM_REG	S32GEN1_SCMI_CLK(64)
+#define S32GEN1_SCMI_CLK_STM_MODULE	S32GEN1_SCMI_CLK(60)
+#define S32GEN1_SCMI_CLK_STM_REG	S32GEN1_SCMI_CLK(61)
 /* PIT */
-#define S32GEN1_SCMI_CLK_PIT_MODULE	S32GEN1_SCMI_CLK(65)
-#define S32GEN1_SCMI_CLK_PIT_REG	S32GEN1_SCMI_CLK(66)
+#define S32GEN1_SCMI_CLK_PIT_MODULE	S32GEN1_SCMI_CLK(62)
+#define S32GEN1_SCMI_CLK_PIT_REG	S32GEN1_SCMI_CLK(63)
 /* eDMA */
-#define S32GEN1_SCMI_CLK_EDMA_MODULE	S32GEN1_SCMI_CLK(67)
-#define S32GEN1_SCMI_CLK_EDMA_AHB	S32GEN1_SCMI_CLK(68)
+#define S32GEN1_SCMI_CLK_EDMA_MODULE	S32GEN1_SCMI_CLK(64)
+#define S32GEN1_SCMI_CLK_EDMA_AHB	S32GEN1_SCMI_CLK(65)
 /* ADC */
-#define S32GEN1_SCMI_CLK_SAR_ADC_BUS	S32GEN1_SCMI_CLK(69)
+#define S32GEN1_SCMI_CLK_SAR_ADC_BUS	S32GEN1_SCMI_CLK(66)
 
-#define S32GEN1_SCMI_PLAT_CLK_BASE_ID	S32GEN1_SCMI_CLK(70)
+#define S32GEN1_SCMI_PLAT_CLK_BASE_ID	S32GEN1_SCMI_CLK(67)
+
+#define S32GEN1_SCMI_CLK_MAX_ID		S32GEN1_PLAT_SCMI_CLK(32)
 
 #endif
diff --git a/include/dt-bindings/clock/s32r45-scmi-clock.h b/include/dt-bindings/clock/s32r45-scmi-clock.h
index d326746dbc..f327dc2abd 100644
--- a/include/dt-bindings/clock/s32r45-scmi-clock.h
+++ b/include/dt-bindings/clock/s32r45-scmi-clock.h
@@ -1,6 +1,6 @@
 /* SPDX-License-Identifier: BSD-3-Clause */
 /*
- * Copyright 2020 NXP
+ * Copyright 2020-2021 NXP
  */
 #ifndef __DT_BINDINGS_SCMI_CLOCK_S32R45_H
 #define __DT_BINDINGS_SCMI_CLOCK_S32R45_H
@@ -14,22 +14,19 @@
 #define S32R45_SCMI_CLK_SPT_SPT			S32GEN1_PLAT_SCMI_CLK(1)
 #define S32R45_SCMI_CLK_SPT_AXI			S32GEN1_PLAT_SCMI_CLK(2)
 #define S32R45_SCMI_CLK_SPT_MODULE		S32GEN1_PLAT_SCMI_CLK(3)
+#define S32R45_SCMI_CLK_GMAC1_TS		S32GEN1_PLAT_SCMI_CLK(4)
 /* GMAC1 - SGMII */
-#define S32R45_SCMI_CLK_GMAC1_RX_SGMII		S32GEN1_PLAT_SCMI_CLK(4)
-#define S32R45_SCMI_CLK_GMAC1_TX_SGMII		S32GEN1_PLAT_SCMI_CLK(5)
-#define S32R45_SCMI_CLK_GMAC1_TS_SGMII		S32GEN1_PLAT_SCMI_CLK(6)
+#define S32R45_SCMI_CLK_GMAC1_RX_SGMII		S32GEN1_PLAT_SCMI_CLK(5)
+#define S32R45_SCMI_CLK_GMAC1_TX_SGMII		S32GEN1_PLAT_SCMI_CLK(6)
 /* GMAC1 - RGMII */
 #define S32R45_SCMI_CLK_GMAC1_RX_RGMII		S32GEN1_PLAT_SCMI_CLK(7)
 #define S32R45_SCMI_CLK_GMAC1_TX_RGMII		S32GEN1_PLAT_SCMI_CLK(8)
-#define S32R45_SCMI_CLK_GMAC1_TS_RGMII		S32GEN1_PLAT_SCMI_CLK(9)
 /* GMAC1 - RMII */
-#define S32R45_SCMI_CLK_GMAC1_RX_RMII		S32GEN1_PLAT_SCMI_CLK(10)
-#define S32R45_SCMI_CLK_GMAC1_TX_RMII		S32GEN1_PLAT_SCMI_CLK(11)
-#define S32R45_SCMI_CLK_GMAC1_TS_RMII		S32GEN1_PLAT_SCMI_CLK(12)
+#define S32R45_SCMI_CLK_GMAC1_RX_RMII		S32GEN1_PLAT_SCMI_CLK(9)
+#define S32R45_SCMI_CLK_GMAC1_TX_RMII		S32GEN1_PLAT_SCMI_CLK(10)
 /* GMAC1 - MII */
-#define S32R45_SCMI_CLK_GMAC1_RX_MII		S32GEN1_PLAT_SCMI_CLK(13)
-#define S32R45_SCMI_CLK_GMAC1_TX_MII		S32GEN1_PLAT_SCMI_CLK(14)
-#define S32R45_SCMI_CLK_GMAC1_TS_MII		S32GEN1_PLAT_SCMI_CLK(15)
-#define S32R45_SCMI_CLK_GMAC1_AXI		S32GEN1_PLAT_SCMI_CLK(16)
+#define S32R45_SCMI_CLK_GMAC1_RX_MII		S32GEN1_PLAT_SCMI_CLK(11)
+#define S32R45_SCMI_CLK_GMAC1_TX_MII		S32GEN1_PLAT_SCMI_CLK(12)
+#define S32R45_SCMI_CLK_GMAC1_AXI		S32GEN1_PLAT_SCMI_CLK(13)
 
 #endif
-- 
2.17.1

