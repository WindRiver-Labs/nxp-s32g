From 2bfaa3f7711a771ba6f2abd792d7124d90d0c9fb Mon Sep 17 00:00:00 2001
From: Andrei Botila <andrei.botila@nxp.com>
Date: Sat, 15 Jan 2022 00:13:16 +0200
Subject: [PATCH 18/25] s32: remove edma controller macros

Issue: ALB-8332
Upstream-Status: Pending 

Signed-off-by: Andrei Botila <andrei.botila@nxp.com>
Signed-off-by: Zhantao Tang <zhantao.tang@windriver.com>
---
 .../asm/arch-s32/s32-gen1/dma_macros.h        | 52 -------------------
 .../asm/arch-s32/s32-gen1/s32-gen1-regs.h     |  4 +-
 2 files changed, 1 insertion(+), 55 deletions(-)
 delete mode 100644 arch/arm/include/asm/arch-s32/s32-gen1/dma_macros.h

diff --git a/arch/arm/include/asm/arch-s32/s32-gen1/dma_macros.h b/arch/arm/include/asm/arch-s32/s32-gen1/dma_macros.h
deleted file mode 100644
index 2341dc2cac..0000000000
--- a/arch/arm/include/asm/arch-s32/s32-gen1/dma_macros.h
+++ /dev/null
@@ -1,52 +0,0 @@
-/*
- * Copyright 2018 NXP
- *
- * SPDX-License-Identifier:	GPL-2.0+
- */
-
-#ifndef __DMA_MACROS_H__
-#define __DMA_MACROS_H__
-
-/* eDMA controller */
-#define DMA_CHANNEL_1		1
-#define DMA_TCD_BASE_ADDRESS	(EDMA0_CONTROL_BASE_ADDR + 0x4000)
-#define DMA_CHANNEL(channel)	(DMA_TCD_BASE_ADDRESS + 0x1000 * (channel))
-#define DMA_CR				(EDMA0_CONTROL_BASE_ADDR)
-#define DMA_ES				(EDMA0_CONTROL_BASE_ADDR + 0x4)
-#define DMA_CH_N_CSR(channel)		(DMA_CHANNEL(channel))
-#define DMA_CH_N_ES(channel)		(DMA_CHANNEL(channel) + 0x04)
-#define DMA_TCD_N_SADDR(channel)	(DMA_CHANNEL(channel) + 0x20)
-#define DMA_TCD_N_SOFF(channel)		(DMA_CHANNEL(channel) + 0x24)
-#define DMA_TCD_N_NBYTES_MLNO(channel)	(DMA_CHANNEL(channel) + 0x28)
-#define DMA_TCD_N_DADDR(channel)	(DMA_CHANNEL(channel) + 0x30)
-#define DMA_TCD_N_DOFF(channel)		(DMA_CHANNEL(channel) + 0x34)
-#define DMA_TCD_N_CITER_ELINKNO(channel)(DMA_CHANNEL(channel) + 0x36)
-#define DMA_TCD_N_CSR(channel)		(DMA_CHANNEL(channel) + 0x3C)
-#define DMA_TCD_N_BITER_ELINKNO(channel)(DMA_CHANNEL(channel) + 0x3E)
-
-#ifdef __INCLUDE_ASSEMBLY_MACROS__
-.macro check_done_bit
-	ldr x9, =DMA_CH_N_CSR(DMA_CHANNEL_1)
-	ldr w10, [x9]
-	ldr x11, =0x40000000
-	/* Check transfer done */
-	and w10, w10, #0x40000000
-	sub w10, w10, w11
-.endm
-
-.macro clear_done_bit
-	ldr x9, =DMA_CH_N_CSR(DMA_CHANNEL_1)
-	ldr w10, =0x40000000
-	str w10, [x9]
-.endm
-
-.macro clear_channel_err
-	/* CHn_ES */
-	ldr x9, =DMA_CH_N_ES(DMA_CHANNEL_1)
-	/* Clear error bit for channel */
-	ldr x10, =0x80000000
-	str w10, [x9]
-.endm
-
-#endif
-#endif /* __DMA_MACROS_H__ */
diff --git a/arch/arm/include/asm/arch-s32/s32-gen1/s32-gen1-regs.h b/arch/arm/include/asm/arch-s32/s32-gen1/s32-gen1-regs.h
index b6c4be4603..97b5241bc7 100644
--- a/arch/arm/include/asm/arch-s32/s32-gen1/s32-gen1-regs.h
+++ b/arch/arm/include/asm/arch-s32/s32-gen1/s32-gen1-regs.h
@@ -1,6 +1,6 @@
 /* SPDX-License-Identifier: GPL-2.0+ */
 /*
- * Copyright 2017-2021 NXP
+ * Copyright 2017-2022 NXP
  */
 
 #ifndef __ASM_ARCH_S32_GEN1_REGS_H__
@@ -210,6 +210,4 @@
 #define MC_CGM2_BASE_ADDR			(PER_GROUP8_BASE + 0x00018000)
 #endif
 
-#include "dma_macros.h"
-
 #endif	/* __ASM_ARCH_S32XXXX_GEN1_REGS_H__ */
-- 
2.17.1

