From eca03c0e3173e22fa0973cf999f299c490593581 Mon Sep 17 00:00:00 2001
From: Ghennadi Procopciuc <ghennadi.procopciuc@nxp.com>
Date: Mon, 7 Feb 2022 10:20:14 +0200
Subject: [PATCH 31/51] s32: Remove CONFIG_OF_FDT

Issue: ALB-8483, ALB-8484
Upstream-Status: Pending 

Signed-off-by: Ghennadi Procopciuc <ghennadi.procopciuc@nxp.com>
Signed-off-by: Zhantao Tang <zhantao.tang@windriver.com>
---
 board/freescale/s32-gen1/common.c | 4 ++--
 include/configs/s32-gen1.h        | 1 -
 include/configs/s32.h             | 1 -
 scripts/config_whitelist.txt      | 1 -
 4 files changed, 2 insertions(+), 5 deletions(-)

diff --git a/board/freescale/s32-gen1/common.c b/board/freescale/s32-gen1/common.c
index 4416f31eb2..41e51b661a 100644
--- a/board/freescale/s32-gen1/common.c
+++ b/board/freescale/s32-gen1/common.c
@@ -30,7 +30,7 @@ int board_init(void)
 	return 0;
 }
 
-#if defined(CONFIG_OF_FDT) && defined(CONFIG_OF_BOARD_SETUP)
+#if defined(CONFIG_OF_BOARD_SETUP)
 int ft_board_setup(void *blob, bd_t *bd)
 {
 	ft_cpu_setup(blob, bd);
@@ -41,4 +41,4 @@ int ft_board_setup(void *blob, bd_t *bd)
 
 	return 0;
 }
-#endif /* defined(CONFIG_OF_FDT) && defined(CONFIG_OF_BOARD_SETUP) */
+#endif /* defined(CONFIG_OF_BOARD_SETUP) */
diff --git a/include/configs/s32-gen1.h b/include/configs/s32-gen1.h
index 7c2caacdec..ca5c68ee7e 100644
--- a/include/configs/s32-gen1.h
+++ b/include/configs/s32-gen1.h
@@ -29,7 +29,6 @@
 #define CONFIG_MP
 
 /* Flat device tree definitions */
-#define CONFIG_OF_FDT
 #define CONFIG_OF_BOARD_SETUP
 
 /* System Timer */
diff --git a/include/configs/s32.h b/include/configs/s32.h
index d8020559da..4eb50f5a4a 100644
--- a/include/configs/s32.h
+++ b/include/configs/s32.h
@@ -13,7 +13,6 @@
 #include <generated/autoconf.h>
 
 /* Flat device tree definitions */
-#define CONFIG_OF_FDT
 #define CONFIG_OF_BOARD_SETUP
 
 /* System Timer */
diff --git a/scripts/config_whitelist.txt b/scripts/config_whitelist.txt
index d0733db293..66bcacec17 100644
--- a/scripts/config_whitelist.txt
+++ b/scripts/config_whitelist.txt
@@ -1247,7 +1247,6 @@ CONFIG_NUM_PAMU
 CONFIG_ODROID_REV_AIN
 CONFIG_OFF_PADCONF
 CONFIG_OF_
-CONFIG_OF_FDT
 CONFIG_OF_STDOUT_PATH
 CONFIG_OMAP_EHCI_PHY1_RESET_GPIO
 CONFIG_OMAP_EHCI_PHY2_RESET_GPIO
-- 
2.17.1

