From 72d9d72a2c54cf5c026b928b44e78364fe8e9d9e Mon Sep 17 00:00:00 2001
From: Ghennadi Procopciuc <ghennadi.procopciuc@nxp.com>
Date: Mon, 7 Feb 2022 09:03:02 +0200
Subject: [PATCH 26/51] s32: Remove CONFIG_S32

Issue: ALB-8483
Upstream-Status: Pending 

Signed-off-by: Ghennadi Procopciuc <ghennadi.procopciuc@nxp.com>
Signed-off-by: Zhantao Tang <zhantao.tang@windriver.com>
---
 Makefile                     | 2 --
 arch/arm/cpu/armv8/Makefile  | 2 +-
 include/configs/s32.h        | 2 --
 scripts/config_whitelist.txt | 1 -
 4 files changed, 1 insertion(+), 6 deletions(-)

diff --git a/Makefile b/Makefile
index 1af2d4ac24..0924462c41 100644
--- a/Makefile
+++ b/Makefile
@@ -1053,7 +1053,6 @@ ifneq ($(CONFIG_DM_VIDEO),y)
 	@echo >&2 "===================================================="
 endif
 endif
-ifeq (,$(CONFIG_S32))
 ifeq ($(CONFIG_OF_EMBED),y)
 	@echo >&2 "===================== WARNING ======================"
 	@echo >&2 "CONFIG_OF_EMBED is enabled. This option should only"
@@ -1062,7 +1061,6 @@ ifeq ($(CONFIG_OF_EMBED),y)
 	@echo >&2 "See doc/README.fdt-control for more info."
 	@echo >&2 "===================================================="
 endif
-endif
 ifeq ($(CONFIG_SPI_FLASH),y)
 ifneq ($(CONFIG_DM_SPI_FLASH)$(CONFIG_OF_CONTROL),yy)
 	@echo >&2 "===================== WARNING ======================"
diff --git a/arch/arm/cpu/armv8/Makefile b/arch/arm/cpu/armv8/Makefile
index 0209af8f56..306f6ea288 100644
--- a/arch/arm/cpu/armv8/Makefile
+++ b/arch/arm/cpu/armv8/Makefile
@@ -31,7 +31,7 @@ endif
 obj-$(CONFIG_$(SPL_)ARMV8_SEC_FIRMWARE_SUPPORT) += sec_firmware.o sec_firmware_asm.o
 
 obj-$(CONFIG_FSL_LAYERSCAPE) += fsl-layerscape/
-obj-$(CONFIG_S32) += s32/
+obj-$(CONFIG_ARCH_S32) += s32/
 obj-$(CONFIG_TARGET_HIKEY) += hisilicon/
 obj-$(CONFIG_ARMV8_PSCI) += psci.o
 obj-$(CONFIG_ARCH_SUNXI) += lowlevel_init.o
diff --git a/include/configs/s32.h b/include/configs/s32.h
index e1e6d9e1ae..7461b7fa8b 100644
--- a/include/configs/s32.h
+++ b/include/configs/s32.h
@@ -10,8 +10,6 @@
 #ifndef __S32_H
 #define __S32_H
 
-#define CONFIG_S32
-
 #include <generated/autoconf.h>
 
 #define CONFIG_REMAKE_ELF
diff --git a/scripts/config_whitelist.txt b/scripts/config_whitelist.txt
index a0c05bc6f1..d0733db293 100644
--- a/scripts/config_whitelist.txt
+++ b/scripts/config_whitelist.txt
@@ -1496,7 +1496,6 @@ CONFIG_RTC_PCF85263
 CONFIG_RTC_PCF8563
 CONFIG_RTC_PT7C4338
 CONFIG_RX_DESCR_NUM
-CONFIG_S32
 CONFIG_S5P
 CONFIG_S5PC100
 CONFIG_S5PC110
-- 
2.17.1

