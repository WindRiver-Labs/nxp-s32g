From 0e53cbc004c9f6b84768e65ba8c7c6d7786c4fe6 Mon Sep 17 00:00:00 2001
From: Ciprian Costea <ciprianmarian.costea@nxp.com>
Date: Wed, 9 Feb 2022 14:09:16 +0200
Subject: [PATCH 1/9] configs: Move DM_* configs in Kconfig files

Issue: ALB-8498
Upstream-Status: Pending 

Signed-off-by: Ciprian Costea <ciprianmarian.costea@nxp.com>
Signed-off-by: Zhantao Tang <zhantao.tang@windriver.com>
---
 arch/arm/cpu/armv8/s32/Kconfig          | 56 +++++++++++++++++++++++--
 board/freescale/Kconfig                 | 41 +++++++++++-------
 configs/s32g274a_emu_defconfig          | 13 +++---
 configs/s32g274abluebox3_defconfig      | 31 ++++----------
 configs/s32g274abluebox3_qspi_defconfig | 31 ++++----------
 configs/s32g274ardb2_defconfig          | 34 +++------------
 configs/s32g274ardb2_qspi_defconfig     | 34 +++------------
 configs/s32g2xxaevb_defconfig           | 39 +++--------------
 configs/s32g2xxaevb_qspi_defconfig      | 39 +++--------------
 configs/s32g399a_emu_defconfig          | 13 +++---
 configs/s32g399ardb3_defconfig          | 34 +++------------
 configs/s32g399ardb3_qspi_defconfig     | 34 +++------------
 configs/s32g3xxaevb_defconfig           | 39 +++--------------
 configs/s32g3xxaevb_qspi_defconfig      | 39 +++--------------
 configs/s32r45_emu_defconfig            | 14 ++++---
 configs/s32r45evb_defconfig             | 30 ++++---------
 configs/s32r45evb_qspi_defconfig        | 29 ++++---------
 17 files changed, 180 insertions(+), 370 deletions(-)

diff --git a/arch/arm/cpu/armv8/s32/Kconfig b/arch/arm/cpu/armv8/s32/Kconfig
index 7954dc54bb..8e8e3094c7 100644
--- a/arch/arm/cpu/armv8/s32/Kconfig
+++ b/arch/arm/cpu/armv8/s32/Kconfig
@@ -34,7 +34,12 @@ choice
 
 config TARGET_S32R45EVB
 	bool "Support s32r45evb"
+	imply ADC
+	imply I2C_EEPROM
+	imply PHY_AQUANTIA
+	imply S32_SARADC
 	select NXP_S32R45
+	select SPI_FLASH_MACRONIX
 
 config TARGET_S32R45EMU
 	bool "Support s32r45 ZeBu"
@@ -42,18 +47,43 @@ config TARGET_S32R45EMU
 
 config TARGET_S32G2XXAEVB
 	bool "Support s32g274aevb"
-	select NXP_S32G2XX
+	imply ADC
+	imply DM_USB
+	imply I2C_EEPROM
+	imply PHY
+	imply PHY_AQUANTIA
+	imply PHY_MICREL
+	imply PHY_MICREL_KSZ90X1
+	imply S32_SARADC
+	imply SAF1508BET_USB_PHY
+	imply SJA1105
+	imply USB
+	imply USB_EHCI_HCD
 	select MISC_INIT_R if SJA1105
+	select NXP_S32G2XX
+	select SPI_FLASH_MACRONIX
 
 config TARGET_S32G274ARDB2
 	bool "Support s32g274ardb2"
-	select NXP_S32G2XX
+	imply DM_PMIC_PF5020
+	imply DM_PMIC_FS5600
+	imply PHY_ATHEROS
+	imply PHY_MICREL
+	imply PHY_MICREL_KSZ90X1
 	select ADC
+	select NXP_S32G2XX
 	select S32_SARADC
+	select SPI_FLASH_MACRONIX
 
 config TARGET_S32G274ABLUEBOX3
 	bool "Support s32g274abluebox3"
+	imply ADC
+	imply I2C_EEPROM
+	imply PHY
+	imply PHYLIB
+	imply S32_SARADC
 	select NXP_S32G2XX
+	select SPI_FLASH_STMICRO
 	help
 	  Enable Microsys S32G SoM Bluebox 3 target.
 	  S32G works as PCIE EP.
@@ -68,13 +98,33 @@ config TARGET_S32G399AEMU
 
 config TARGET_S32G3XXAEVB
 	bool "Support for S32G3 EVB boards"
+	imply ADC
+	imply DM_USB
+	imply I2C_EEPROM
+	imply PHY
+	imply PHY_AQUANTIA
+	imply PHY_MICREL
+	imply PHY_MICREL_KSZ90X1
+	imply S32_SARADC
+	imply SAF1508BET_USB_PHY
+	imply SJA1105
+	imply USB
+	imply USB_EHCI_HCD
 	select NXP_S32G3XX
+	select SPI_FLASH_MACRONIX
 
 config TARGET_S32G399ARDB3
 	bool "Support s32g399ardb3"
-	select NXP_S32G3XX
+	imply DM_PMIC_PF5020
+	imply DM_PMIC_FS5600
+	imply I2C_EEPROM
+	imply PHY_ATHEROS
+	imply PHY_MICREL
+	imply PHY_MICREL_KSZ90X1
 	select ADC
+	select NXP_S32G3XX
 	select S32_SARADC
+	select SPI_FLASH_MACRONIX
 
 endchoice
 
diff --git a/board/freescale/Kconfig b/board/freescale/Kconfig
index 545a2e2587..5a92a69378 100644
--- a/board/freescale/Kconfig
+++ b/board/freescale/Kconfig
@@ -4,36 +4,49 @@ config SYS_VENDOR
 
 config S32_GEN1
 	bool "S32 GEN1 Common Chassis"
-	imply CMD_ADC
-	imply CMD_CPU
-	imply CMD_GPIO
-	imply CMD_FUSE
-	imply CMD_TIMER
+	imply DM_ETH
+	imply DM_I2C
+	imply DM_PCI
+	imply DM_PMIC
+	imply DM_PMIC_VR5510
+	imply DM_SPI
+	imply DM_SPI_FLASH
+	imply DWC_ETH_QOS_DEVICES
+	imply DWC_ETH_QOS_S32CC
+	imply FSL_DSPI
 	imply FSL_LINFLEXUART
-	imply ADC if !NXP_S32GRDB_BOARD
-	imply S32_SARADC if !NXP_S32GRDB_BOARD
+	imply FSL_PFENG
+	imply FSL_QSPI
+	imply FSL_USDHC
 	imply MISC
-	imply TIMER
+	imply MMC_HS400_ES_SUPPORT
+	imply PCI
+	imply PCIE_S32GEN1
 	imply S32_TIMER
+	imply SPI
+	imply SYS_I2C_MXC
+	imply TIMER
+	select ARCH_MISC_INIT
 	select ARM_SMCCC
 	select CLK
 	select CLK_SCMI
+	select CPU
+	select DISTRO_DEFAULTS
+	select DM
 	select DM_GPIO
+	select DM_MMC
 	select DM_SERIAL
+	select MMC_HS400_SUPPORT
 	select OF_CONTROL
 	select OF_SEPARATE
 	select PINCTRL
 	select PINCTRL_FULL
 	select PINCTRL_S32
-	select SCMI_FIRMWARE
-	select ARCH_MISC_INIT
 	select S32_GPIO
-	select MMC_HS400_SUPPORT if !TARGET_TYPE_S32GEN1_EMULATOR
-	select MMC_HS400_ES_SUPPORT if !TARGET_TYPE_S32GEN1_EMULATOR
-	select SYS_MALLOC_F
+	select SCMI_FIRMWARE
 	select SYSRESET
 	select SYSRESET_PSCI
-	select CPU
+	select SYS_MALLOC_F
 	help
 	  Platform Selection
 
diff --git a/configs/s32g274a_emu_defconfig b/configs/s32g274a_emu_defconfig
index 6e8323e624..6299610715 100644
--- a/configs/s32g274a_emu_defconfig
+++ b/configs/s32g274a_emu_defconfig
@@ -2,11 +2,9 @@ CONFIG_ARM=y
 CONFIG_ARCH_S32=y
 CONFIG_ENV_SIZE=0x2000
 CONFIG_ENV_OFFSET=0x1e0000
-CONFIG_NR_DRAM_BANKS=3
+CONFIG_NR_DRAM_BANKS=2
 CONFIG_TARGET_S32G274AEMU=y
-CONFIG_DISTRO_DEFAULTS=y
 # CONFIG_SYS_MALLOC_CLEAR_ON_INIT is not set
-CONFIG_TOOLS_DEBUG=y
 CONFIG_FIT=y
 CONFIG_SD_BOOT=y
 CONFIG_USE_BOOTARGS=y
@@ -16,8 +14,11 @@ CONFIG_CMD_MMC=y
 CONFIG_CMD_SMC=y
 CONFIG_DEFAULT_DEVICE_TREE="fsl-s32g274aemu"
 CONFIG_ENV_IS_IN_MMC=y
-CONFIG_DM=y
 # CONFIG_DM_DEVICE_REMOVE is not set
 # CONFIG_DM_SEQ_ALIAS is not set
-CONFIG_DM_MMC=y
-CONFIG_FSL_USDHC=y
+# CONFIG_DM_I2C is not set
+# CONFIG_SYS_I2C_MXC is not set
+# CONFIG_DM_ETH is not set
+# CONFIG_PCI is not set
+# CONFIG_DM_PMIC is not set
+# CONFIG_SPI is not set
diff --git a/configs/s32g274abluebox3_defconfig b/configs/s32g274abluebox3_defconfig
index a83582b6be..e331dfdc7a 100644
--- a/configs/s32g274abluebox3_defconfig
+++ b/configs/s32g274abluebox3_defconfig
@@ -2,56 +2,39 @@ CONFIG_ARM=y
 CONFIG_ARCH_S32=y
 CONFIG_ENV_SIZE=0x2000
 CONFIG_ENV_OFFSET=0x1e0000
-CONFIG_NR_DRAM_BANKS=3
+CONFIG_NR_DRAM_BANKS=2
 CONFIG_TARGET_S32G274ABLUEBOX3=y
 # CONFIG_S32GEN1_DRAM_INLINE_ECC is not set
-CONFIG_DISTRO_DEFAULTS=y
-CONFIG_TOOLS_DEBUG=y
 CONFIG_FIT=y
 CONFIG_SD_BOOT=y
 CONFIG_USE_BOOTARGS=y
 CONFIG_BOOTARGS="root=/dev/ram rw earlycon"
 CONFIG_LAST_STAGE_INIT=y
+CONFIG_CMD_CPU=y
 CONFIG_CMD_EEPROM=y
 CONFIG_CMD_MD5SUM=y
 CONFIG_MD5SUM_VERIFY=y
 CONFIG_CMD_MEMTEST=y
+CONFIG_CMD_ADC=y
 CONFIG_CMD_CLK=y
 CONFIG_CMD_DM=y
+CONFIG_CMD_FUSE=y
+CONFIG_CMD_GPIO=y
 CONFIG_CMD_I2C=y
 CONFIG_CMD_MMC=y
 CONFIG_CMD_PCI=y
 CONFIG_CMD_SPI=y
+CONFIG_CMD_TIMER=y
 CONFIG_CMD_PMIC=y
 CONFIG_CMD_SMC=y
 CONFIG_DEFAULT_DEVICE_TREE="fsl-s32g274abluebox3"
 CONFIG_ENV_IS_IN_MMC=y
 CONFIG_NET_RANDOM_ETHADDR=y
-CONFIG_DM=y
 # CONFIG_DM_DEVICE_REMOVE is not set
-CONFIG_DM_I2C=y
-CONFIG_SYS_I2C_MXC=y
-CONFIG_I2C_EEPROM=y
 CONFIG_SYS_EEPROM_SIZE=128
 CONFIG_SYS_EEPROM_PAGE_WRITE_DELAY_MS=10
-CONFIG_DM_MMC=y
-CONFIG_FSL_USDHC=y
-CONFIG_DM_SPI_FLASH=y
 # CONFIG_SPI_FLASH_BAR is not set
-CONFIG_SPI_FLASH_STMICRO=y
-CONFIG_PHYLIB=y
 CONFIG_PHY_FIXED=y
-CONFIG_DM_ETH=y
-CONFIG_FSL_PFENG=y
 CONFIG_PHY_GIGE=y
+# CONFIG_DWC_ETH_QOS_DEVICES is not set
 CONFIG_RGMII=y
-CONFIG_PCI=y
-CONFIG_DM_PCI=y
-CONFIG_PCIE_S32GEN1=y
-CONFIG_PHY=y
-CONFIG_DM_PMIC=y
-CONFIG_DM_PMIC_VR5510=y
-CONFIG_SPI=y
-CONFIG_DM_SPI=y
-CONFIG_FSL_DSPI=y
-CONFIG_FSL_QSPI=y
diff --git a/configs/s32g274abluebox3_qspi_defconfig b/configs/s32g274abluebox3_qspi_defconfig
index f9819648c4..f3253fb207 100644
--- a/configs/s32g274abluebox3_qspi_defconfig
+++ b/configs/s32g274abluebox3_qspi_defconfig
@@ -3,26 +3,29 @@ CONFIG_ARCH_S32=y
 CONFIG_ENV_SIZE=0x10000
 CONFIG_ENV_SECT_SIZE=0x1000
 CONFIG_ENV_OFFSET=0x1e0000
-CONFIG_NR_DRAM_BANKS=3
+CONFIG_NR_DRAM_BANKS=2
 CONFIG_TARGET_S32G274ABLUEBOX3=y
 # CONFIG_S32GEN1_DRAM_INLINE_ECC is not set
-CONFIG_DISTRO_DEFAULTS=y
-CONFIG_TOOLS_DEBUG=y
 CONFIG_FIT=y
 CONFIG_QSPI_BOOT=y
 CONFIG_USE_BOOTARGS=y
 CONFIG_BOARD_EARLY_INIT_R=y
 CONFIG_LAST_STAGE_INIT=y
+CONFIG_CMD_CPU=y
 CONFIG_CMD_EEPROM=y
 CONFIG_CMD_MD5SUM=y
 CONFIG_MD5SUM_VERIFY=y
 CONFIG_CMD_MEMTEST=y
+CONFIG_CMD_ADC=y
 CONFIG_CMD_CLK=y
 CONFIG_CMD_DM=y
+CONFIG_CMD_FUSE=y
+CONFIG_CMD_GPIO=y
 CONFIG_CMD_I2C=y
 CONFIG_CMD_MMC=y
 CONFIG_CMD_PCI=y
 CONFIG_CMD_SPI=y
+CONFIG_CMD_TIMER=y
 CONFIG_CMD_PMIC=y
 CONFIG_CMD_SMC=y
 CONFIG_DEFAULT_DEVICE_TREE="fsl-s32g274abluebox3"
@@ -32,31 +35,11 @@ CONFIG_ENV_SPI_BUS=6
 CONFIG_USE_ENV_SPI_CS=y
 CONFIG_ENV_SPI_CS=0
 CONFIG_NET_RANDOM_ETHADDR=y
-CONFIG_DM=y
 # CONFIG_DM_DEVICE_REMOVE is not set
-CONFIG_DM_I2C=y
-CONFIG_SYS_I2C_MXC=y
-CONFIG_I2C_EEPROM=y
 CONFIG_SYS_EEPROM_SIZE=128
 CONFIG_SYS_EEPROM_PAGE_WRITE_DELAY_MS=10
-CONFIG_DM_MMC=y
-CONFIG_FSL_USDHC=y
-CONFIG_DM_SPI_FLASH=y
 # CONFIG_SPI_FLASH_BAR is not set
-CONFIG_SPI_FLASH_STMICRO=y
-CONFIG_PHYLIB=y
 CONFIG_PHY_FIXED=y
-CONFIG_DM_ETH=y
-CONFIG_FSL_PFENG=y
 CONFIG_PHY_GIGE=y
+# CONFIG_DWC_ETH_QOS_DEVICES is not set
 CONFIG_RGMII=y
-CONFIG_PCI=y
-CONFIG_DM_PCI=y
-CONFIG_PCIE_S32GEN1=y
-CONFIG_PHY=y
-CONFIG_DM_PMIC=y
-CONFIG_DM_PMIC_VR5510=y
-CONFIG_SPI=y
-CONFIG_DM_SPI=y
-CONFIG_FSL_DSPI=y
-CONFIG_FSL_QSPI=y
diff --git a/configs/s32g274ardb2_defconfig b/configs/s32g274ardb2_defconfig
index b076bcea63..4f0cae576f 100644
--- a/configs/s32g274ardb2_defconfig
+++ b/configs/s32g274ardb2_defconfig
@@ -2,58 +2,36 @@ CONFIG_ARM=y
 CONFIG_ARCH_S32=y
 CONFIG_ENV_SIZE=0x2000
 CONFIG_ENV_OFFSET=0x1e0000
-CONFIG_NR_DRAM_BANKS=3
-CONFIG_DISTRO_DEFAULTS=y
-CONFIG_TOOLS_DEBUG=y
+CONFIG_NR_DRAM_BANKS=2
 CONFIG_FIT=y
 CONFIG_SD_BOOT=y
 CONFIG_USE_BOOTARGS=y
 CONFIG_BOOTARGS="root=/dev/ram rw earlycon"
 CONFIG_BOARD_LATE_INIT=y
+CONFIG_CMD_CPU=y
 CONFIG_CMD_MD5SUM=y
 CONFIG_MD5SUM_VERIFY=y
 CONFIG_CMD_MEMTEST=y
+CONFIG_CMD_ADC=y
 CONFIG_CMD_CLK=y
 CONFIG_CMD_DM=y
+CONFIG_CMD_FUSE=y
+CONFIG_CMD_GPIO=y
 CONFIG_CMD_I2C=y
 CONFIG_CMD_MMC=y
 CONFIG_CMD_PCI=y
 CONFIG_CMD_SPI=y
+CONFIG_CMD_TIMER=y
 CONFIG_CMD_PMIC=y
 CONFIG_CMD_SMC=y
 CONFIG_DEFAULT_DEVICE_TREE="fsl-s32g274ardb2"
 CONFIG_ENV_IS_IN_MMC=y
 CONFIG_NET_RANDOM_ETHADDR=y
-CONFIG_DM=y
 # CONFIG_DM_DEVICE_REMOVE is not set
-CONFIG_DM_I2C=y
-CONFIG_SYS_I2C_MXC=y
-CONFIG_DM_MMC=y
-CONFIG_FSL_USDHC=y
-CONFIG_DM_SPI_FLASH=y
 # CONFIG_SPI_FLASH_BAR is not set
-CONFIG_SPI_FLASH_MACRONIX=y
-CONFIG_PHY_ATHEROS=y
-CONFIG_PHY_MICREL=y
-CONFIG_PHY_MICREL_KSZ90X1=y
 CONFIG_PHY_FIXED=y
-CONFIG_DM_ETH=y
-CONFIG_FSL_PFENG=y
 CONFIG_FSL_PFENG_EMAC_1_RGMII=y
-CONFIG_DWC_ETH_QOS_DEVICES=y
-CONFIG_DWC_ETH_QOS_S32CC=y
 CONFIG_E1000=y
 CONFIG_CMD_E1000=y
 CONFIG_RGMII=y
-CONFIG_PCI=y
-CONFIG_DM_PCI=y
-CONFIG_PCIE_S32GEN1=y
-CONFIG_DM_PMIC=y
-CONFIG_DM_PMIC_VR5510=y
-CONFIG_DM_PMIC_PF5020=y
-CONFIG_DM_PMIC_FS5600=y
-CONFIG_SPI=y
-CONFIG_DM_SPI=y
-CONFIG_FSL_DSPI=y
-CONFIG_FSL_QSPI=y
 # CONFIG_EFI_LOADER is not set
diff --git a/configs/s32g274ardb2_qspi_defconfig b/configs/s32g274ardb2_qspi_defconfig
index c707e45793..e3735fa9cc 100644
--- a/configs/s32g274ardb2_qspi_defconfig
+++ b/configs/s32g274ardb2_qspi_defconfig
@@ -3,23 +3,26 @@ CONFIG_ARCH_S32=y
 CONFIG_ENV_SIZE=0x10000
 CONFIG_ENV_SECT_SIZE=0x10000
 CONFIG_ENV_OFFSET=0x1e0000
-CONFIG_NR_DRAM_BANKS=3
-CONFIG_DISTRO_DEFAULTS=y
-CONFIG_TOOLS_DEBUG=y
+CONFIG_NR_DRAM_BANKS=2
 CONFIG_FIT=y
 CONFIG_QSPI_BOOT=y
 CONFIG_USE_BOOTARGS=y
 CONFIG_BOOTARGS="root=/dev/ram rw earlycon"
 CONFIG_BOARD_LATE_INIT=y
+CONFIG_CMD_CPU=y
 CONFIG_CMD_MD5SUM=y
 CONFIG_MD5SUM_VERIFY=y
 CONFIG_CMD_MEMTEST=y
+CONFIG_CMD_ADC=y
 CONFIG_CMD_CLK=y
 CONFIG_CMD_DM=y
+CONFIG_CMD_FUSE=y
+CONFIG_CMD_GPIO=y
 CONFIG_CMD_I2C=y
 CONFIG_CMD_MMC=y
 CONFIG_CMD_PCI=y
 CONFIG_CMD_SPI=y
+CONFIG_CMD_TIMER=y
 CONFIG_CMD_PMIC=y
 CONFIG_CMD_SMC=y
 CONFIG_DEFAULT_DEVICE_TREE="fsl-s32g274ardb2"
@@ -29,36 +32,11 @@ CONFIG_ENV_SPI_BUS=6
 CONFIG_USE_ENV_SPI_CS=y
 CONFIG_ENV_SPI_CS=0
 CONFIG_NET_RANDOM_ETHADDR=y
-CONFIG_DM=y
 # CONFIG_DM_DEVICE_REMOVE is not set
-CONFIG_DM_I2C=y
-CONFIG_SYS_I2C_MXC=y
-CONFIG_DM_MMC=y
-CONFIG_FSL_USDHC=y
-CONFIG_DM_SPI_FLASH=y
 # CONFIG_SPI_FLASH_BAR is not set
-CONFIG_SPI_FLASH_MACRONIX=y
-CONFIG_PHY_ATHEROS=y
-CONFIG_PHY_MICREL=y
-CONFIG_PHY_MICREL_KSZ90X1=y
 CONFIG_PHY_FIXED=y
-CONFIG_DM_ETH=y
-CONFIG_FSL_PFENG=y
 CONFIG_FSL_PFENG_EMAC_1_RGMII=y
-CONFIG_DWC_ETH_QOS_DEVICES=y
-CONFIG_DWC_ETH_QOS_S32CC=y
 CONFIG_E1000=y
 CONFIG_CMD_E1000=y
 CONFIG_RGMII=y
-CONFIG_PCI=y
-CONFIG_DM_PCI=y
-CONFIG_PCIE_S32GEN1=y
-CONFIG_DM_PMIC=y
-CONFIG_DM_PMIC_VR5510=y
-CONFIG_DM_PMIC_PF5020=y
-CONFIG_DM_PMIC_FS5600=y
-CONFIG_SPI=y
-CONFIG_DM_SPI=y
-CONFIG_FSL_DSPI=y
-CONFIG_FSL_QSPI=y
 # CONFIG_EFI_LOADER is not set
diff --git a/configs/s32g2xxaevb_defconfig b/configs/s32g2xxaevb_defconfig
index d522de5406..24c643e4d8 100644
--- a/configs/s32g2xxaevb_defconfig
+++ b/configs/s32g2xxaevb_defconfig
@@ -2,68 +2,41 @@ CONFIG_ARM=y
 CONFIG_ARCH_S32=y
 CONFIG_ENV_SIZE=0x2000
 CONFIG_ENV_OFFSET=0x1e0000
-CONFIG_NR_DRAM_BANKS=3
+CONFIG_NR_DRAM_BANKS=2
 CONFIG_TARGET_S32G2XXAEVB=y
-CONFIG_DISTRO_DEFAULTS=y
-CONFIG_TOOLS_DEBUG=y
 CONFIG_FIT=y
 CONFIG_SD_BOOT=y
 CONFIG_USE_BOOTARGS=y
 CONFIG_BOOTARGS="root=/dev/ram rw earlycon"
+CONFIG_CMD_CPU=y
 CONFIG_CMD_EEPROM=y
 CONFIG_CMD_MD5SUM=y
 CONFIG_MD5SUM_VERIFY=y
 CONFIG_CMD_MEMTEST=y
+CONFIG_CMD_ADC=y
 CONFIG_CMD_CLK=y
 CONFIG_CMD_DM=y
+CONFIG_CMD_FUSE=y
+CONFIG_CMD_GPIO=y
 CONFIG_CMD_I2C=y
 CONFIG_CMD_MMC=y
 CONFIG_CMD_PCI=y
 CONFIG_CMD_SPI=y
+CONFIG_CMD_TIMER=y
 CONFIG_CMD_PMIC=y
 CONFIG_CMD_SMC=y
 CONFIG_DEFAULT_DEVICE_TREE="fsl-s32g274aevb"
 CONFIG_ENV_IS_IN_MMC=y
 CONFIG_NET_RANDOM_ETHADDR=y
-CONFIG_DM=y
 # CONFIG_DM_DEVICE_REMOVE is not set
-CONFIG_DM_I2C=y
-CONFIG_SYS_I2C_MXC=y
-CONFIG_I2C_EEPROM=y
-CONFIG_SJA1105=y
 CONFIG_SYS_EEPROM_SIZE=128
 CONFIG_SYS_EEPROM_PAGE_WRITE_DELAY_MS=10
-CONFIG_DM_MMC=y
-CONFIG_FSL_USDHC=y
-CONFIG_DM_SPI_FLASH=y
 # CONFIG_SPI_FLASH_BAR is not set
-CONFIG_SPI_FLASH_MACRONIX=y
-CONFIG_PHY_AQUANTIA=y
-CONFIG_PHY_MICREL=y
-CONFIG_PHY_MICREL_KSZ90X1=y
 CONFIG_PHY_FIXED=y
-CONFIG_DM_ETH=y
-CONFIG_FSL_PFENG=y
 CONFIG_FSL_PFENG_EMAC_1_RGMII=y
-CONFIG_DWC_ETH_QOS_DEVICES=y
-CONFIG_DWC_ETH_QOS_S32CC=y
 CONFIG_E1000=y
 CONFIG_CMD_E1000=y
 CONFIG_RGMII=y
-CONFIG_PCI=y
-CONFIG_DM_PCI=y
-CONFIG_PCIE_S32GEN1=y
-CONFIG_PHY=y
-CONFIG_SAF1508BET_USB_PHY=y
-CONFIG_DM_PMIC=y
-CONFIG_DM_PMIC_VR5510=y
-CONFIG_SPI=y
-CONFIG_DM_SPI=y
-CONFIG_FSL_DSPI=y
-CONFIG_FSL_QSPI=y
-CONFIG_USB=y
-CONFIG_DM_USB=y
-CONFIG_USB_EHCI_HCD=y
 CONFIG_USB_ULPI_VIEWPORT=y
 CONFIG_USB_ULPI=y
 # CONFIG_EFI_LOADER is not set
diff --git a/configs/s32g2xxaevb_qspi_defconfig b/configs/s32g2xxaevb_qspi_defconfig
index c9a1ca860c..f134146404 100644
--- a/configs/s32g2xxaevb_qspi_defconfig
+++ b/configs/s32g2xxaevb_qspi_defconfig
@@ -3,24 +3,27 @@ CONFIG_ARCH_S32=y
 CONFIG_ENV_SIZE=0x10000
 CONFIG_ENV_SECT_SIZE=0x10000
 CONFIG_ENV_OFFSET=0x1e0000
-CONFIG_NR_DRAM_BANKS=3
+CONFIG_NR_DRAM_BANKS=2
 CONFIG_TARGET_S32G2XXAEVB=y
-CONFIG_DISTRO_DEFAULTS=y
-CONFIG_TOOLS_DEBUG=y
 CONFIG_FIT=y
 CONFIG_QSPI_BOOT=y
 CONFIG_USE_BOOTARGS=y
 CONFIG_BOOTARGS="root=/dev/ram rw earlycon"
+CONFIG_CMD_CPU=y
 CONFIG_CMD_EEPROM=y
 CONFIG_CMD_MD5SUM=y
 CONFIG_MD5SUM_VERIFY=y
 CONFIG_CMD_MEMTEST=y
+CONFIG_CMD_ADC=y
 CONFIG_CMD_CLK=y
 CONFIG_CMD_DM=y
+CONFIG_CMD_FUSE=y
+CONFIG_CMD_GPIO=y
 CONFIG_CMD_I2C=y
 CONFIG_CMD_MMC=y
 CONFIG_CMD_PCI=y
 CONFIG_CMD_SPI=y
+CONFIG_CMD_TIMER=y
 CONFIG_CMD_PMIC=y
 CONFIG_CMD_SMC=y
 CONFIG_DEFAULT_DEVICE_TREE="fsl-s32g274aevb"
@@ -30,45 +33,15 @@ CONFIG_ENV_SPI_BUS=6
 CONFIG_USE_ENV_SPI_CS=y
 CONFIG_ENV_SPI_CS=0
 CONFIG_NET_RANDOM_ETHADDR=y
-CONFIG_DM=y
 # CONFIG_DM_DEVICE_REMOVE is not set
-CONFIG_DM_I2C=y
-CONFIG_SYS_I2C_MXC=y
-CONFIG_I2C_EEPROM=y
-CONFIG_SJA1105=y
 CONFIG_SYS_EEPROM_SIZE=128
 CONFIG_SYS_EEPROM_PAGE_WRITE_DELAY_MS=10
-CONFIG_DM_MMC=y
-CONFIG_FSL_USDHC=y
-CONFIG_DM_SPI_FLASH=y
 # CONFIG_SPI_FLASH_BAR is not set
-CONFIG_SPI_FLASH_MACRONIX=y
-CONFIG_PHY_AQUANTIA=y
-CONFIG_PHY_MICREL=y
-CONFIG_PHY_MICREL_KSZ90X1=y
 CONFIG_PHY_FIXED=y
-CONFIG_DM_ETH=y
-CONFIG_FSL_PFENG=y
 CONFIG_FSL_PFENG_EMAC_1_RGMII=y
-CONFIG_DWC_ETH_QOS_DEVICES=y
-CONFIG_DWC_ETH_QOS_S32CC=y
 CONFIG_E1000=y
 CONFIG_CMD_E1000=y
 CONFIG_RGMII=y
-CONFIG_PCI=y
-CONFIG_DM_PCI=y
-CONFIG_PCIE_S32GEN1=y
-CONFIG_PHY=y
-CONFIG_SAF1508BET_USB_PHY=y
-CONFIG_DM_PMIC=y
-CONFIG_DM_PMIC_VR5510=y
-CONFIG_SPI=y
-CONFIG_DM_SPI=y
-CONFIG_FSL_DSPI=y
-CONFIG_FSL_QSPI=y
-CONFIG_USB=y
-CONFIG_DM_USB=y
-CONFIG_USB_EHCI_HCD=y
 CONFIG_USB_ULPI_VIEWPORT=y
 CONFIG_USB_ULPI=y
 # CONFIG_EFI_LOADER is not set
diff --git a/configs/s32g399a_emu_defconfig b/configs/s32g399a_emu_defconfig
index 233b3de201..611c99141c 100644
--- a/configs/s32g399a_emu_defconfig
+++ b/configs/s32g399a_emu_defconfig
@@ -2,11 +2,9 @@ CONFIG_ARM=y
 CONFIG_ARCH_S32=y
 CONFIG_ENV_SIZE=0x2000
 CONFIG_ENV_OFFSET=0x1e0000
-CONFIG_NR_DRAM_BANKS=3
+CONFIG_NR_DRAM_BANKS=2
 CONFIG_TARGET_S32G399AEMU=y
-CONFIG_DISTRO_DEFAULTS=y
 # CONFIG_SYS_MALLOC_CLEAR_ON_INIT is not set
-CONFIG_TOOLS_DEBUG=y
 CONFIG_FIT=y
 CONFIG_SD_BOOT=y
 CONFIG_USE_BOOTARGS=y
@@ -16,8 +14,11 @@ CONFIG_CMD_MMC=y
 CONFIG_CMD_SMC=y
 CONFIG_DEFAULT_DEVICE_TREE="fsl-s32g399aemu"
 CONFIG_ENV_IS_IN_MMC=y
-CONFIG_DM=y
 # CONFIG_DM_DEVICE_REMOVE is not set
 # CONFIG_DM_SEQ_ALIAS is not set
-CONFIG_DM_MMC=y
-CONFIG_FSL_USDHC=y
+# CONFIG_DM_I2C is not set
+# CONFIG_SYS_I2C_MXC is not set
+# CONFIG_DM_ETH is not set
+# CONFIG_PCI is not set
+# CONFIG_DM_PMIC is not set
+# CONFIG_SPI is not set
diff --git a/configs/s32g399ardb3_defconfig b/configs/s32g399ardb3_defconfig
index 0c57fa9dd2..41edb09cd0 100644
--- a/configs/s32g399ardb3_defconfig
+++ b/configs/s32g399ardb3_defconfig
@@ -2,59 +2,37 @@ CONFIG_ARM=y
 CONFIG_ARCH_S32=y
 CONFIG_ENV_SIZE=0x2000
 CONFIG_ENV_OFFSET=0x1e0000
-CONFIG_NR_DRAM_BANKS=3
+CONFIG_NR_DRAM_BANKS=2
 CONFIG_TARGET_S32G399ARDB3=y
-CONFIG_DISTRO_DEFAULTS=y
-CONFIG_TOOLS_DEBUG=y
 CONFIG_FIT=y
 CONFIG_SD_BOOT=y
 CONFIG_USE_BOOTARGS=y
 CONFIG_BOOTARGS="root=/dev/ram rw earlycon"
 CONFIG_BOARD_LATE_INIT=y
+CONFIG_CMD_CPU=y
 CONFIG_CMD_MD5SUM=y
 CONFIG_MD5SUM_VERIFY=y
 CONFIG_CMD_MEMTEST=y
+CONFIG_CMD_ADC=y
 CONFIG_CMD_CLK=y
 CONFIG_CMD_DM=y
+CONFIG_CMD_FUSE=y
+CONFIG_CMD_GPIO=y
 CONFIG_CMD_I2C=y
 CONFIG_CMD_MMC=y
 CONFIG_CMD_PCI=y
 CONFIG_CMD_SPI=y
+CONFIG_CMD_TIMER=y
 CONFIG_CMD_PMIC=y
 CONFIG_CMD_SMC=y
 CONFIG_DEFAULT_DEVICE_TREE="fsl-s32g399ardb3"
 CONFIG_ENV_IS_IN_MMC=y
 CONFIG_NET_RANDOM_ETHADDR=y
-CONFIG_DM=y
 # CONFIG_DM_DEVICE_REMOVE is not set
-CONFIG_DM_I2C=y
-CONFIG_SYS_I2C_MXC=y
-CONFIG_DM_MMC=y
-CONFIG_FSL_USDHC=y
-CONFIG_DM_SPI_FLASH=y
 # CONFIG_SPI_FLASH_BAR is not set
-CONFIG_SPI_FLASH_MACRONIX=y
-CONFIG_PHY_ATHEROS=y
-CONFIG_PHY_MICREL=y
-CONFIG_PHY_MICREL_KSZ90X1=y
 CONFIG_PHY_FIXED=y
-CONFIG_DM_ETH=y
-CONFIG_FSL_PFENG=y
 CONFIG_FSL_PFENG_EMAC_1_RGMII=y
-CONFIG_DWC_ETH_QOS_DEVICES=y
-CONFIG_DWC_ETH_QOS_S32CC=y
 CONFIG_E1000=y
 CONFIG_CMD_E1000=y
 CONFIG_RGMII=y
-CONFIG_PCI=y
-CONFIG_DM_PCI=y
-CONFIG_PCIE_S32GEN1=y
-CONFIG_DM_PMIC=y
-CONFIG_DM_PMIC_VR5510=y
-CONFIG_DM_PMIC_PF5020=y
-CONFIG_DM_PMIC_FS5600=y
-CONFIG_SPI=y
-CONFIG_DM_SPI=y
-CONFIG_FSL_DSPI=y
-CONFIG_FSL_QSPI=y
 # CONFIG_EFI_LOADER is not set
diff --git a/configs/s32g399ardb3_qspi_defconfig b/configs/s32g399ardb3_qspi_defconfig
index 5689194cc9..b439a67eee 100644
--- a/configs/s32g399ardb3_qspi_defconfig
+++ b/configs/s32g399ardb3_qspi_defconfig
@@ -3,24 +3,27 @@ CONFIG_ARCH_S32=y
 CONFIG_ENV_SIZE=0x10000
 CONFIG_ENV_SECT_SIZE=0x10000
 CONFIG_ENV_OFFSET=0x1e0000
-CONFIG_NR_DRAM_BANKS=3
+CONFIG_NR_DRAM_BANKS=2
 CONFIG_TARGET_S32G399ARDB3=y
-CONFIG_DISTRO_DEFAULTS=y
-CONFIG_TOOLS_DEBUG=y
 CONFIG_FIT=y
 CONFIG_QSPI_BOOT=y
 CONFIG_USE_BOOTARGS=y
 CONFIG_BOOTARGS="root=/dev/ram rw earlycon"
 CONFIG_BOARD_LATE_INIT=y
+CONFIG_CMD_CPU=y
 CONFIG_CMD_MD5SUM=y
 CONFIG_MD5SUM_VERIFY=y
 CONFIG_CMD_MEMTEST=y
+CONFIG_CMD_ADC=y
 CONFIG_CMD_CLK=y
 CONFIG_CMD_DM=y
+CONFIG_CMD_FUSE=y
+CONFIG_CMD_GPIO=y
 CONFIG_CMD_I2C=y
 CONFIG_CMD_MMC=y
 CONFIG_CMD_PCI=y
 CONFIG_CMD_SPI=y
+CONFIG_CMD_TIMER=y
 CONFIG_CMD_PMIC=y
 CONFIG_CMD_SMC=y
 CONFIG_DEFAULT_DEVICE_TREE="fsl-s32g399ardb3"
@@ -30,37 +33,12 @@ CONFIG_ENV_SPI_BUS=6
 CONFIG_USE_ENV_SPI_CS=y
 CONFIG_ENV_SPI_CS=0
 CONFIG_NET_RANDOM_ETHADDR=y
-CONFIG_DM=y
 # CONFIG_DM_DEVICE_REMOVE is not set
-CONFIG_DM_I2C=y
-CONFIG_SYS_I2C_MXC=y
-CONFIG_DM_MMC=y
-CONFIG_FSL_USDHC=y
-CONFIG_DM_SPI_FLASH=y
 # CONFIG_SPI_FLASH_BAR is not set
-CONFIG_SPI_FLASH_MACRONIX=y
-CONFIG_PHY_ATHEROS=y
-CONFIG_PHY_MICREL=y
-CONFIG_PHY_MICREL_KSZ90X1=y
 CONFIG_PHY_FIXED=y
-CONFIG_DM_ETH=y
-CONFIG_FSL_PFENG=y
 CONFIG_FSL_PFENG_FW_LOC_SDCARD=y
 CONFIG_FSL_PFENG_EMAC_1_RGMII=y
-CONFIG_DWC_ETH_QOS_DEVICES=y
-CONFIG_DWC_ETH_QOS_S32CC=y
 CONFIG_E1000=y
 CONFIG_CMD_E1000=y
 CONFIG_RGMII=y
-CONFIG_PCI=y
-CONFIG_DM_PCI=y
-CONFIG_PCIE_S32GEN1=y
-CONFIG_DM_PMIC=y
-CONFIG_DM_PMIC_VR5510=y
-CONFIG_DM_PMIC_PF5020=y
-CONFIG_DM_PMIC_FS5600=y
-CONFIG_SPI=y
-CONFIG_DM_SPI=y
-CONFIG_FSL_DSPI=y
-CONFIG_FSL_QSPI=y
 # CONFIG_EFI_LOADER is not set
diff --git a/configs/s32g3xxaevb_defconfig b/configs/s32g3xxaevb_defconfig
index 2ab4dbacab..c18d643d3b 100644
--- a/configs/s32g3xxaevb_defconfig
+++ b/configs/s32g3xxaevb_defconfig
@@ -2,68 +2,41 @@ CONFIG_ARM=y
 CONFIG_ARCH_S32=y
 CONFIG_ENV_SIZE=0x2000
 CONFIG_ENV_OFFSET=0x1e0000
-CONFIG_NR_DRAM_BANKS=3
+CONFIG_NR_DRAM_BANKS=2
 CONFIG_TARGET_S32G3XXAEVB=y
-CONFIG_DISTRO_DEFAULTS=y
-CONFIG_TOOLS_DEBUG=y
 CONFIG_FIT=y
 CONFIG_SD_BOOT=y
 CONFIG_USE_BOOTARGS=y
 CONFIG_BOOTARGS="root=/dev/ram rw earlycon"
+CONFIG_CMD_CPU=y
 CONFIG_CMD_EEPROM=y
 CONFIG_CMD_MD5SUM=y
 CONFIG_MD5SUM_VERIFY=y
 CONFIG_CMD_MEMTEST=y
+CONFIG_CMD_ADC=y
 CONFIG_CMD_CLK=y
 CONFIG_CMD_DM=y
+CONFIG_CMD_FUSE=y
+CONFIG_CMD_GPIO=y
 CONFIG_CMD_I2C=y
 CONFIG_CMD_MMC=y
 CONFIG_CMD_PCI=y
 CONFIG_CMD_SPI=y
+CONFIG_CMD_TIMER=y
 CONFIG_CMD_PMIC=y
 CONFIG_CMD_SMC=y
 CONFIG_DEFAULT_DEVICE_TREE="fsl-s32g3xxaevb"
 CONFIG_ENV_IS_IN_MMC=y
 CONFIG_NET_RANDOM_ETHADDR=y
-CONFIG_DM=y
 # CONFIG_DM_DEVICE_REMOVE is not set
-CONFIG_DM_I2C=y
-CONFIG_SYS_I2C_MXC=y
-CONFIG_I2C_EEPROM=y
-CONFIG_SJA1105=y
 CONFIG_SYS_EEPROM_SIZE=128
 CONFIG_SYS_EEPROM_PAGE_WRITE_DELAY_MS=10
-CONFIG_DM_MMC=y
-CONFIG_FSL_USDHC=y
-CONFIG_DM_SPI_FLASH=y
 # CONFIG_SPI_FLASH_BAR is not set
-CONFIG_SPI_FLASH_MACRONIX=y
-CONFIG_PHY_AQUANTIA=y
-CONFIG_PHY_MICREL=y
-CONFIG_PHY_MICREL_KSZ90X1=y
 CONFIG_PHY_FIXED=y
-CONFIG_DM_ETH=y
-CONFIG_FSL_PFENG=y
 CONFIG_FSL_PFENG_EMAC_1_RGMII=y
-CONFIG_DWC_ETH_QOS_DEVICES=y
-CONFIG_DWC_ETH_QOS_S32CC=y
 CONFIG_E1000=y
 CONFIG_CMD_E1000=y
 CONFIG_RGMII=y
-CONFIG_PCI=y
-CONFIG_DM_PCI=y
-CONFIG_PCIE_S32GEN1=y
-CONFIG_PHY=y
-CONFIG_SAF1508BET_USB_PHY=y
-CONFIG_DM_PMIC=y
-CONFIG_DM_PMIC_VR5510=y
-CONFIG_SPI=y
-CONFIG_DM_SPI=y
-CONFIG_FSL_DSPI=y
-CONFIG_FSL_QSPI=y
-CONFIG_USB=y
-CONFIG_DM_USB=y
-CONFIG_USB_EHCI_HCD=y
 CONFIG_USB_ULPI_VIEWPORT=y
 CONFIG_USB_ULPI=y
 # CONFIG_EFI_LOADER is not set
diff --git a/configs/s32g3xxaevb_qspi_defconfig b/configs/s32g3xxaevb_qspi_defconfig
index b8f264214f..681babc068 100644
--- a/configs/s32g3xxaevb_qspi_defconfig
+++ b/configs/s32g3xxaevb_qspi_defconfig
@@ -3,24 +3,27 @@ CONFIG_ARCH_S32=y
 CONFIG_ENV_SIZE=0x10000
 CONFIG_ENV_SECT_SIZE=0x10000
 CONFIG_ENV_OFFSET=0x1e0000
-CONFIG_NR_DRAM_BANKS=3
+CONFIG_NR_DRAM_BANKS=2
 CONFIG_TARGET_S32G3XXAEVB=y
-CONFIG_DISTRO_DEFAULTS=y
-CONFIG_TOOLS_DEBUG=y
 CONFIG_FIT=y
 CONFIG_QSPI_BOOT=y
 CONFIG_USE_BOOTARGS=y
 CONFIG_BOOTARGS="root=/dev/ram rw earlycon"
+CONFIG_CMD_CPU=y
 CONFIG_CMD_EEPROM=y
 CONFIG_CMD_MD5SUM=y
 CONFIG_MD5SUM_VERIFY=y
 CONFIG_CMD_MEMTEST=y
+CONFIG_CMD_ADC=y
 CONFIG_CMD_CLK=y
 CONFIG_CMD_DM=y
+CONFIG_CMD_FUSE=y
+CONFIG_CMD_GPIO=y
 CONFIG_CMD_I2C=y
 CONFIG_CMD_MMC=y
 CONFIG_CMD_PCI=y
 CONFIG_CMD_SPI=y
+CONFIG_CMD_TIMER=y
 CONFIG_CMD_PMIC=y
 CONFIG_CMD_SMC=y
 CONFIG_DEFAULT_DEVICE_TREE="fsl-s32g3xxaevb"
@@ -31,45 +34,15 @@ CONFIG_ENV_SPI_BUS=6
 CONFIG_USE_ENV_SPI_CS=y
 CONFIG_ENV_SPI_CS=0
 CONFIG_NET_RANDOM_ETHADDR=y
-CONFIG_DM=y
 # CONFIG_DM_DEVICE_REMOVE is not set
-CONFIG_DM_I2C=y
-CONFIG_SYS_I2C_MXC=y
-CONFIG_I2C_EEPROM=y
-CONFIG_SJA1105=y
 CONFIG_SYS_EEPROM_SIZE=128
 CONFIG_SYS_EEPROM_PAGE_WRITE_DELAY_MS=10
-CONFIG_DM_MMC=y
-CONFIG_FSL_USDHC=y
-CONFIG_DM_SPI_FLASH=y
 # CONFIG_SPI_FLASH_BAR is not set
-CONFIG_SPI_FLASH_MACRONIX=y
-CONFIG_PHY_AQUANTIA=y
-CONFIG_PHY_MICREL=y
-CONFIG_PHY_MICREL_KSZ90X1=y
 CONFIG_PHY_FIXED=y
-CONFIG_DM_ETH=y
-CONFIG_FSL_PFENG=y
 CONFIG_FSL_PFENG_EMAC_1_RGMII=y
-CONFIG_DWC_ETH_QOS_DEVICES=y
-CONFIG_DWC_ETH_QOS_S32CC=y
 CONFIG_E1000=y
 CONFIG_CMD_E1000=y
 CONFIG_RGMII=y
-CONFIG_PCI=y
-CONFIG_DM_PCI=y
-CONFIG_PCIE_S32GEN1=y
-CONFIG_PHY=y
-CONFIG_SAF1508BET_USB_PHY=y
-CONFIG_DM_PMIC=y
-CONFIG_DM_PMIC_VR5510=y
-CONFIG_SPI=y
-CONFIG_DM_SPI=y
-CONFIG_FSL_DSPI=y
-CONFIG_FSL_QSPI=y
-CONFIG_USB=y
-CONFIG_DM_USB=y
-CONFIG_USB_EHCI_HCD=y
 CONFIG_USB_ULPI_VIEWPORT=y
 CONFIG_USB_ULPI=y
 # CONFIG_EFI_LOADER is not set
diff --git a/configs/s32r45_emu_defconfig b/configs/s32r45_emu_defconfig
index 54688543bf..361ec306b8 100644
--- a/configs/s32r45_emu_defconfig
+++ b/configs/s32r45_emu_defconfig
@@ -1,18 +1,20 @@
 CONFIG_ARM=y
 CONFIG_ARCH_S32=y
 CONFIG_ENV_SIZE=0x2000
-CONFIG_NR_DRAM_BANKS=3
+CONFIG_NR_DRAM_BANKS=2
 CONFIG_TARGET_S32R45EMU=y
-CONFIG_DISTRO_DEFAULTS=y
 # CONFIG_SYS_MALLOC_CLEAR_ON_INIT is not set
-CONFIG_TOOLS_DEBUG=y
 CONFIG_FIT=y
 CONFIG_QSPI_BOOT=y
 CONFIG_USE_BOOTARGS=y
 CONFIG_BOOTARGS="root=/dev/ram rw earlycon loglevel=7"
 CONFIG_CMD_MEMTEST=y
-CONFIG_DM=y
 # CONFIG_DM_DEVICE_REMOVE is not set
 # CONFIG_DM_SEQ_ALIAS is not set
-CONFIG_SPI=y
-CONFIG_FSL_DSPI=y
+# CONFIG_DM_I2C is not set
+# CONFIG_SYS_I2C_MXC is not set
+# CONFIG_DM_ETH is not set
+# CONFIG_PCI is not set
+# CONFIG_DM_PMIC is not set
+# CONFIG_DM_SPI is not set
+# CONFIG_FSL_QSPI is not set
diff --git a/configs/s32r45evb_defconfig b/configs/s32r45evb_defconfig
index db5728624b..3344753ace 100644
--- a/configs/s32r45evb_defconfig
+++ b/configs/s32r45evb_defconfig
@@ -2,54 +2,40 @@ CONFIG_ARM=y
 CONFIG_ARCH_S32=y
 CONFIG_ENV_SIZE=0x2000
 CONFIG_ENV_OFFSET=0x1e0000
-CONFIG_NR_DRAM_BANKS=3
+CONFIG_NR_DRAM_BANKS=2
 CONFIG_TARGET_S32R45EVB=y
-CONFIG_DISTRO_DEFAULTS=y
 # CONFIG_SYS_MALLOC_CLEAR_ON_INIT is not set
-CONFIG_TOOLS_DEBUG=y
 CONFIG_FIT=y
 CONFIG_SD_BOOT=y
 CONFIG_USE_BOOTARGS=y
 CONFIG_BOOTARGS="root=/dev/ram rw earlycon loglevel=7"
 CONFIG_LAST_STAGE_INIT=y
+CONFIG_CMD_CPU=y
 CONFIG_CMD_EEPROM=y
 CONFIG_CMD_MD5SUM=y
 CONFIG_MD5SUM_VERIFY=y
 CONFIG_CMD_MEMTEST=y
+CONFIG_CMD_ADC=y
 CONFIG_CMD_CLK=y
 CONFIG_CMD_DM=y
+CONFIG_CMD_FUSE=y
+CONFIG_CMD_GPIO=y
 CONFIG_CMD_I2C=y
 CONFIG_CMD_MMC=y
 CONFIG_CMD_PCI=y
 CONFIG_CMD_SPI=y
+CONFIG_CMD_TIMER=y
 CONFIG_CMD_SMC=y
 CONFIG_DEFAULT_DEVICE_TREE="fsl-s32r45"
 CONFIG_ENV_IS_IN_MMC=y
 CONFIG_NET_RANDOM_ETHADDR=y
-CONFIG_DM=y
 # CONFIG_DM_DEVICE_REMOVE is not set
-CONFIG_DM_I2C=y
-CONFIG_SYS_I2C_MXC=y
-CONFIG_I2C_EEPROM=y
 CONFIG_SYS_EEPROM_SIZE=128
 CONFIG_SYS_EEPROM_PAGE_WRITE_DELAY_MS=10
-CONFIG_DM_MMC=y
-CONFIG_FSL_USDHC=y
-CONFIG_DM_SPI_FLASH=y
 # CONFIG_SPI_FLASH_BAR is not set
-CONFIG_SPI_FLASH_MACRONIX=y
-CONFIG_PHY_AQUANTIA=y
 CONFIG_PHY_FIXED=y
-CONFIG_DM_ETH=y
-CONFIG_DWC_ETH_QOS_DEVICES=y
-CONFIG_DWC_ETH_QOS_S32CC=y
+# CONFIG_FSL_PFENG is not set
 CONFIG_E1000=y
 CONFIG_CMD_E1000=y
-CONFIG_PCI=y
-CONFIG_DM_PCI=y
-CONFIG_PCIE_S32GEN1=y
-CONFIG_SPI=y
-CONFIG_DM_SPI=y
-CONFIG_FSL_DSPI=y
-CONFIG_FSL_QSPI=y
+# CONFIG_DM_PMIC is not set
 # CONFIG_EFI_LOADER is not set
diff --git a/configs/s32r45evb_qspi_defconfig b/configs/s32r45evb_qspi_defconfig
index d672541a34..b0e8df8015 100644
--- a/configs/s32r45evb_qspi_defconfig
+++ b/configs/s32r45evb_qspi_defconfig
@@ -3,25 +3,28 @@ CONFIG_ARCH_S32=y
 CONFIG_ENV_SIZE=0x10000
 CONFIG_ENV_SECT_SIZE=0x10000
 CONFIG_ENV_OFFSET=0x1e0000
-CONFIG_NR_DRAM_BANKS=3
+CONFIG_NR_DRAM_BANKS=2
 CONFIG_TARGET_S32R45EVB=y
-CONFIG_DISTRO_DEFAULTS=y
 # CONFIG_SYS_MALLOC_CLEAR_ON_INIT is not set
-CONFIG_TOOLS_DEBUG=y
 CONFIG_FIT=y
 CONFIG_QSPI_BOOT=y
 CONFIG_USE_BOOTARGS=y
 CONFIG_BOOTARGS="root=/dev/ram rw earlycon loglevel=7"
+CONFIG_CMD_CPU=y
 CONFIG_CMD_EEPROM=y
 CONFIG_CMD_MD5SUM=y
 CONFIG_MD5SUM_VERIFY=y
 CONFIG_CMD_MEMTEST=y
+CONFIG_CMD_ADC=y
 CONFIG_CMD_CLK=y
 CONFIG_CMD_DM=y
+CONFIG_CMD_FUSE=y
+CONFIG_CMD_GPIO=y
 CONFIG_CMD_I2C=y
 CONFIG_CMD_MMC=y
 CONFIG_CMD_PCI=y
 CONFIG_CMD_SPI=y
+CONFIG_CMD_TIMER=y
 CONFIG_CMD_SMC=y
 CONFIG_DEFAULT_DEVICE_TREE="fsl-s32r45"
 CONFIG_ENV_IS_IN_SPI_FLASH=y
@@ -30,28 +33,12 @@ CONFIG_ENV_SPI_BUS=6
 CONFIG_USE_ENV_SPI_CS=y
 CONFIG_ENV_SPI_CS=0
 CONFIG_NET_RANDOM_ETHADDR=y
-CONFIG_DM=y
 # CONFIG_DM_DEVICE_REMOVE is not set
-CONFIG_DM_I2C=y
-CONFIG_SYS_I2C_MXC=y
-CONFIG_I2C_EEPROM=y
 CONFIG_SYS_EEPROM_SIZE=128
 CONFIG_SYS_EEPROM_PAGE_WRITE_DELAY_MS=10
-CONFIG_DM_MMC=y
-CONFIG_FSL_USDHC=y
-CONFIG_DM_SPI_FLASH=y
 # CONFIG_SPI_FLASH_BAR is not set
-CONFIG_SPI_FLASH_MACRONIX=y
-CONFIG_DM_ETH=y
-CONFIG_DWC_ETH_QOS_DEVICES=y
-CONFIG_DWC_ETH_QOS_S32CC=y
+# CONFIG_FSL_PFENG is not set
 CONFIG_E1000=y
 CONFIG_CMD_E1000=y
-CONFIG_PCI=y
-CONFIG_DM_PCI=y
-CONFIG_PCIE_S32GEN1=y
-CONFIG_SPI=y
-CONFIG_DM_SPI=y
-CONFIG_FSL_DSPI=y
-CONFIG_FSL_QSPI=y
+# CONFIG_DM_PMIC is not set
 # CONFIG_EFI_LOADER is not set
-- 
2.17.1

