From f1ad9f2424ff94ae705cff8298f66b971fd99066 Mon Sep 17 00:00:00 2001
From: Andrei Botila <andrei.botila@nxp.com>
Date: Mon, 14 Feb 2022 15:01:35 +0200
Subject: [PATCH 7/9] net: pfeng: move necessary defines in header file

Issue: ALB-8344
Upstream-Status: Pending 

Signed-off-by: Andrei Botila <andrei.botila@nxp.com>
Signed-off-by: Zhantao Tang <zhantao.tang@windriver.com>
---
 drivers/net/pfeng/pfeng.h     | 44 ++++++++++++++++++++++++++++++++++-
 drivers/net/pfeng/pfeng_cmd.c |  3 ---
 2 files changed, 43 insertions(+), 4 deletions(-)

diff --git a/drivers/net/pfeng/pfeng.h b/drivers/net/pfeng/pfeng.h
index 016d098cab..12be3c3c2f 100644
--- a/drivers/net/pfeng/pfeng.h
+++ b/drivers/net/pfeng/pfeng.h
@@ -1,7 +1,7 @@
 /* SPDX-License-Identifier: GPL 2.0 */
 /*
  * Copyright (c) 2020 Imagination Technologies Limited
- * Copyright 2019-2021 NXP
+ * Copyright 2019-2022 NXP
  *
  */
 
@@ -59,6 +59,48 @@ enum {
 
 #define PFENG_MODE_DEFAULT PFENG_MODE_ENABLE
 
+/* MC_ME partition definitions */
+#define UPTR(PTR)				((uintptr_t)(PTR))
+#define MC_ME_PRTN_N(MC_ME, n)			(UPTR(MC_ME) + 0x100 + \
+						 (n) * 0x200)
+#define MC_ME_PRTN_N_PCONF(MC_ME, n)		(MC_ME_PRTN_N(MC_ME, n))
+#define MC_ME_PRTN_N_PUPD(MC_ME, n)		(MC_ME_PRTN_N(MC_ME, n) + 0x4)
+#define MC_ME_PRTN_N_STAT(MC_ME, n)		(MC_ME_PRTN_N(MC_ME, n) + 0x8)
+#define MC_ME_PRTN_N_COFB0_STAT(MC_ME, n)	(MC_ME_PRTN_N(MC_ME, n) + 0x10)
+#define MC_ME_PRTN_N_COFB0_CLKEN(MC_ME, n)	(MC_ME_PRTN_N(MC_ME, n) + 0x30)
+
+/* MC_ME_PRTN_N_* register fields */
+#define MC_ME_PRTN_N_PCE		BIT(0)
+#define MC_ME_PRTN_N_PCUD		BIT(0)
+#define MC_ME_PRTN_N_PCS		BIT(0)
+#define MC_ME_PRTN_N_OSSE		BIT(2)
+#define MC_ME_PRTN_N_OSSUD		BIT(2)
+#define MC_ME_PRTN_N_OSSS		BIT(2)
+#define MC_ME_PRTN_N_BLOCK(n)		BIT(n)
+#define MC_ME_PRTN_N_REQ(n)		BIT(n)
+
+#define MC_ME_CTL_KEY(MC_ME)		(UPTR(MC_ME) + 0x0)
+#define MC_ME_CTL_KEY_KEY		(0x00005AF0)
+#define MC_ME_CTL_KEY_INVERTEDKEY	(0x0000A50F)
+
+/* RGM peripheral reset registers */
+#define RGM_PRST(MC_RGM, per)		(UPTR(MC_RGM) + 0x40 + \
+					 ((per) * 0x8))
+#define RGM_PSTAT(rgm, per)		(UPTR(rgm) + 0x140 + \
+					 ((per) * 0x8))
+#define PRST_PFE			128
+
+/* Reset domain definitions */
+#define RDC_RD_N_CTRL(RDC, N)			(UPTR(RDC) + (0x4 * (N)))
+#define RDC_RD_N_STATUS(RDC, N)			(UPTR(RDC) + 0x80 + (0x4 * (N)))
+#define RD_CTRL_UNLOCK_MASK			(0x80000000)
+#define RD_XBAR_DISABLE_MASK			(0x00000008)
+#define RDC_RD_CTRL_UNLOCK			BIT(31)
+#define RDC_RD_INTERCONNECT_DISABLE		BIT(3)
+#define RDC_RD_INTERCONNECT_DISABLE_REQ_STAT	BIT(3)
+#define RDC_RD_INTERCONNECT_DISABLE_STAT	BIT(4)
+#define RDC_RD_STAT_XBAR_DISABLE_MASK		BIT(4)
+
 struct pfe_hif_ring_my;
 
 struct pfeng_config {
diff --git a/drivers/net/pfeng/pfeng_cmd.c b/drivers/net/pfeng/pfeng_cmd.c
index 93f30717b3..3ad6ee1602 100644
--- a/drivers/net/pfeng/pfeng_cmd.c
+++ b/drivers/net/pfeng/pfeng_cmd.c
@@ -12,9 +12,6 @@
 #include <asm/arch/soc.h>
 #include <asm/io.h>
 
-#include <asm/arch/mc_cgm_regs.h>
-#include <asm/arch/mc_me_regs.h>
-#include <asm/arch/mc_rgm_regs.h>
 #include <asm/arch/s32-gen1/serdes_regs.h>
 #include <asm/arch/s32-gen1/serdes_xpcs_regs.h>
 #include <linux/string.h>
-- 
2.17.1

