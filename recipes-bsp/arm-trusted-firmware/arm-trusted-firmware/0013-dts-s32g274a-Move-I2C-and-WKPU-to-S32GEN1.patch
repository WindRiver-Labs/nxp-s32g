From c8f40c5d832191a0106d5afdbb3db63c97c15ec8 Mon Sep 17 00:00:00 2001
From: Ghennadi Procopciuc <Ghennadi.Procopciuc@nxp.com>
Date: Thu, 3 Dec 2020 09:49:02 +0200
Subject: [PATCH 13/22] dts: s32g274a: Move I2C and WKPU to S32GEN1

Issue: ALB-6094
Signed-off-by: Ghennadi Procopciuc <Ghennadi.Procopciuc@nxp.com>
---
 fdts/fsl-s32-gen1.dtsi    | 30 ++++++++++++++++++++++++++++++
 fdts/fsl-s32g274a-rdb.dts | 33 ---------------------------------
 2 files changed, 30 insertions(+), 33 deletions(-)

diff --git a/fdts/fsl-s32-gen1.dtsi b/fdts/fsl-s32-gen1.dtsi
index 7abf08f70..c309c7281 100644
--- a/fdts/fsl-s32-gen1.dtsi
+++ b/fdts/fsl-s32-gen1.dtsi
@@ -6,11 +6,16 @@
 
 #include <dt-bindings/clock/s32gen1-clock-freq.h>
 #include <dt-bindings/clock/s32gen1-clock.h>
+#include <dt-bindings/reset/s32gen1-wkpu.h>
 
 / {
 	#address-cells = <2>;
 	#size-cells = <2>;
 
+	aliases {
+		i2c4 = &i2c4;
+	};
+
 	fxosc: fxosc@40050000 {
 		compatible = "fixed-clock", "fsl,s32gen1-fxosc";
 		reg = <0x0 0x40050000 0x0 0x3000>;
@@ -114,6 +119,31 @@
 		#clock-cells = <1>;
 	};
 
+	i2c4: i2c@402D8000 {
+		compatible = "fsl,vf610-i2c";
+		#address-cells = <1>;
+		#size-cells = <0>;
+		reg = <0x0 0x402DC000 0x0 0x10000>;
+	};
+
+	wkpu: wkpu@40090000 {
+		compatible = "nxp,s32gen1-wkpu";
+		reg = <0x0 0x40090000 0x0 0x10000>, /* WKPU */
+		      <0x0 0x4007cb04 0x0 0x4>; /* S32G_STDBY_GPR */
+		/*
+		 * Enable RTC and GPIO166 (J5, pin 30 on S32G274A RDB REV B)
+		 * as wake-up sources
+		 */
+		nxp,irqs = <S32GEN1_WKPU_RTC_IRQ
+			    S32GEN1_WKPU_IRQ_RISING
+			    S32GEN1_WKPU_PULL_DIS>,
+			   <S32GEN1_WKPU_EXT_IRQ(11)
+			    S32GEN1_WKPU_IRQ_FALLING
+			    S32GEN1_WKPU_PULL_DIS>;
+
+		status = "disabled";
+	};
+
 	clks: clks {
 		compatible = "fsl,s32-gen1-clocking";
 		#address-cells = <2>;
diff --git a/fdts/fsl-s32g274a-rdb.dts b/fdts/fsl-s32g274a-rdb.dts
index 1bd8568fe..96a61b5c6 100644
--- a/fdts/fsl-s32g274a-rdb.dts
+++ b/fdts/fsl-s32g274a-rdb.dts
@@ -3,44 +3,11 @@
  *
  * SPDX-License-Identifier: BSD-3-Clause
  */
-#include <dt-bindings/reset/s32gen1-wkpu.h>
-
 /dts-v1/;
 #include "fsl-s32g274a.dtsi"
 
 / {
 	compatible = "fsl,s32g274ardb";
-	#address-cells = <2>;
-	#size-cells = <2>;
-
-	aliases {
-		i2c4 = &i2c4;
-	};
-
-	i2c4: i2c@402D8000 {
-		compatible = "fsl,vf610-i2c";
-		#address-cells = <1>;
-		#size-cells = <0>;
-		reg = <0x0 0x402DC000 0x0 0x10000>;
-	};
-
-	wkpu: wkpu@40090000 {
-		compatible = "nxp,s32gen1-wkpu";
-		reg = <0x0 0x40090000 0x0 0x10000>, /* WKPU */
-		      <0x0 0x4007cb04 0x0 0x4>; /* S32G_STDBY_GPR */
-		/*
-		 * Enable RTC and GPIO166 (J5, pin 30 on S32G274A RDB REV B)
-		 * as wake-up sources
-		 */
-		nxp,irqs = <S32GEN1_WKPU_RTC_IRQ
-			    S32GEN1_WKPU_IRQ_RISING
-			    S32GEN1_WKPU_PULL_DIS>,
-			   <S32GEN1_WKPU_EXT_IRQ(11)
-			    S32GEN1_WKPU_IRQ_FALLING
-			    S32GEN1_WKPU_PULL_DIS>;
-
-		status = "disabled";
-	};
 };
 
 /* PMIC */
-- 
2.17.1

