From e847497bffce9226aea8e94e596bbb9018158e7e Mon Sep 17 00:00:00 2001
From: Dan Nica <dan.nica@nxp.com>
Date: Fri, 22 Nov 2019 11:39:58 +0200
Subject: [PATCH 024/269] s32g: Force some shift operation results to be
 unsigned

Issue: ALB-3895
Upstream-Status: Pending 

Signed-off-by: Dan Nica <dan.nica@nxp.com>
Signed-off-by: Zhantao Tang <zhantao.tang@windriver.com>
---
 plat/s32g/s32g_xrdc.c | 16 ++++++++--------
 1 file changed, 8 insertions(+), 8 deletions(-)

diff --git a/plat/s32g/s32g_xrdc.c b/plat/s32g/s32g_xrdc.c
index 37dc93c03..2ddd56608 100644
--- a/plat/s32g/s32g_xrdc.c
+++ b/plat/s32g/s32g_xrdc.c
@@ -363,8 +363,8 @@ static int xrdc_mem_region(volatile struct xrdc_regs *xrdc,
 	XRDC_SET_32(mrgd, W2, access_policy);
 	/* set validity bit and lock */
 	w3 = XRDC_GET_32(mrgd, W3);
-	w3 |= (1 << XRDC_MRGD_W3_VLD_SHIFT) & XRDC_MRGD_W3_VLD_MASK;
-	w3 |= (3 << XRDC_MRGD_W3_LK2_SHIFT) & XRDC_MRGD_W3_LK2_MASK;
+	w3 |= (1u << XRDC_MRGD_W3_VLD_SHIFT) & XRDC_MRGD_W3_VLD_MASK;
+	w3 |= (3u << XRDC_MRGD_W3_LK2_SHIFT) & XRDC_MRGD_W3_LK2_MASK;
 	XRDC_SET_32(mrgd, W3, w3);
 
 	return 0;
@@ -405,8 +405,8 @@ static int xrdc_init(void *vaddr)
 	}
 	val = mmio_read_32((uintptr_t)mda);
 	val |= (DOMAIN_DBG << XRDC_MDA_DID_SHIFT) & XRDC_MDA_DID_MASK;
-	val |= (1 << XRDC_MDA_VLD_SHIFT) & XRDC_MDA_VLD_MASK;
-	val |= (1 << XRDC_MDA_LK1_SHIFT) & XRDC_MDA_LK1_MASK;
+	val |= (1u << XRDC_MDA_VLD_SHIFT) & XRDC_MDA_VLD_MASK;
+	val |= (1u << XRDC_MDA_LK1_SHIFT) & XRDC_MDA_LK1_MASK;
 	mmio_write_32((uintptr_t)mda, val);
 
 	/* assign every other bus master (in particular, the CA53 clusters)
@@ -436,8 +436,8 @@ static int xrdc_init(void *vaddr)
 		val = mmio_read_32((uintptr_t)mda);
 		val |= (DOMAIN_CA53 << XRDC_MDA_DID_SHIFT) &
 			XRDC_MDA_DID_MASK;
-		val |= (1 << XRDC_MDA_VLD_SHIFT) & XRDC_MDA_VLD_MASK;
-		val |= (1 << XRDC_MDA_LK1_SHIFT) & XRDC_MDA_LK1_MASK;
+		val |= (1u << XRDC_MDA_VLD_SHIFT) & XRDC_MDA_VLD_MASK;
+		val |= (1u << XRDC_MDA_LK1_SHIFT) & XRDC_MDA_LK1_MASK;
 		mmio_write_32((uintptr_t)mda, val);
 	}
 
@@ -457,9 +457,9 @@ static int xrdc_init(void *vaddr)
 		XRDC_SET_32(pdac, W0, val);
 
 		val = XRDC_GET_32(pdac, W1);
-		val |= (1 << XRDC_PDAC_W1_VLD_SHIFT) & XRDC_PDAC_W1_VLD_MASK;
+		val |= (1u << XRDC_PDAC_W1_VLD_SHIFT) & XRDC_PDAC_W1_VLD_MASK;
 		/* lock register until the next reset */
-		val |= (3 << XRDC_PDAC_W1_LK2_SHIFT) &
+		val |= (3u << XRDC_PDAC_W1_LK2_SHIFT) &
 			    XRDC_PDAC_W1_LK2_MASK;
 		XRDC_SET_32(pdac, W1, val);
 		/* no semaphore enable, though */
-- 
2.17.1

