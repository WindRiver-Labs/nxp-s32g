From 71be40bfc7ffe229345d4912be4f590826a09f00 Mon Sep 17 00:00:00 2001
From: Ghennadi Procopciuc <Ghennadi.Procopciuc@nxp.com>
Date: Thu, 16 Jul 2020 15:46:29 +0300
Subject: [PATCH 163/269] s32g274ardb: Use GPIO166 as external wake-up source

Issue: ALB-5283
Upstream-Status: Pending 

Signed-off-by: Ghennadi Procopciuc <Ghennadi.Procopciuc@nxp.com>
Signed-off-by: Zhantao Tang <zhantao.tang@windriver.com>
---
 fdts/s32g274aevb.dts | 7 +++++++
 1 file changed, 7 insertions(+)

diff --git a/fdts/s32g274aevb.dts b/fdts/s32g274aevb.dts
index b2b4de125..151fc11ec 100644
--- a/fdts/s32g274aevb.dts
+++ b/fdts/s32g274aevb.dts
@@ -27,8 +27,15 @@
 		compatible = "nxp,s32gen1-wkpu";
 		reg = <0x40090000 0x10000>, /* WKPU */
 		      <0x4007cb04 0x4>; /* S32G_STDBY_GPR */
+		/*
+		 * Enable RTC and GPIO166 (J5, pin 30 on S32G274A RDB REV B)
+		 * as wake-up sources
+		 */
 		nxp,irqs = <S32GEN1_WKPU_RTC_IRQ
 			    S32GEN1_WKPU_IRQ_RISING
+			    S32GEN1_WKPU_PULL_DIS>,
+			   <S32GEN1_WKPU_EXT_IRQ(11)
+			    S32GEN1_WKPU_IRQ_FALLING
 			    S32GEN1_WKPU_PULL_DIS>;
 
 		status = "disabled";
-- 
2.17.1

