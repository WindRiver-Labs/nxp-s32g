From 6b249b04a17e9a3d54d09c3555bb1ee9cfdecfc2 Mon Sep 17 00:00:00 2001
From: Ghennadi Procopciuc <ghennadi.procopciuc@nxp.com>
Date: Wed, 20 Oct 2021 10:09:15 +0300
Subject: [PATCH 01/16] Move S32G support in S32 folder

This adds s32 folder to make room for S32V.

Issue: ALB-7992
Upstream-Status: Pending 

Signed-off-by: Ghennadi Procopciuc <ghennadi.procopciuc@nxp.com>
Signed-off-by: Zhantao Tang <zhantao.tang@windriver.com>
---
 plat/nxp/{ => s32}/s32g/bl31_lowlevel.S       |  0
 plat/nxp/{ => s32}/s32g/bl31_sram/.gitignore  |  0
 .../{ => s32}/s32g/bl31_sram/bl31SRAM.ld.S    |  0
 .../nxp/{ => s32}/s32g/bl31_sram/bl31_sram.mk | 18 +++---
 .../s32g/bl31_sram/bl31sram_entrypoint.S      |  0
 .../{ => s32}/s32g/bl31_sram/bl31sram_main.c  |  0
 .../s32g/bl31_sram/include/bl31_sram.h        |  0
 plat/nxp/{ => s32}/s32g/bl31_ssram/.gitignore |  0
 .../{ => s32}/s32g/bl31_ssram/bl31SSRAM.ld.S  |  0
 plat/nxp/s32/s32g/bl31_ssram/bl31_ssram.mk    | 31 ++++++++++
 .../s32g/bl31_ssram/bl31ssram_entrypoint.S    |  0
 .../s32g/bl31_ssram/bl31ssram_main.c          |  0
 .../s32g/bl31_ssram/bl31ssram_stacks.S        |  0
 plat/nxp/{ => s32}/s32g/bl31_ssram/ddr_clk.c  |  0
 .../s32g/bl31_ssram/include/bl31_ssram.h      |  0
 plat/nxp/{ => s32}/s32g/include/plat_macros.S |  0
 .../{ => s32}/s32g/include/s32g_bl_common.h   |  0
 plat/nxp/{ => s32}/s32g/include/s32g_clocks.h |  0
 plat/nxp/{ => s32}/s32g/include/s32g_dt.h     |  0
 plat/nxp/{ => s32}/s32g/include/s32g_ivt.h    |  0
 .../{ => s32}/s32g/include/s32g_linflexuart.h |  0
 .../{ => s32}/s32g/include/s32g_lowlevel.h    |  0
 plat/nxp/{ => s32}/s32g/include/s32g_mc_me.h  |  0
 plat/nxp/{ => s32}/s32g/include/s32g_mc_rgm.h |  0
 plat/nxp/{ => s32}/s32g/include/s32g_ncore.h  |  0
 .../nxp/{ => s32}/s32g/include/s32g_pinctrl.h |  0
 .../s32g/include/s32g_platform_def.h          |  0
 plat/nxp/{ => s32}/s32g/include/s32g_pm.h     |  0
 plat/nxp/{ => s32}/s32g/include/s32g_resume.h |  0
 plat/nxp/{ => s32}/s32g/include/s32g_sramc.h  |  0
 .../nxp/{ => s32}/s32g/include/s32g_storage.h |  0
 .../s32g/s32g2/include/platform_def.h         |  0
 .../s32g/s32g2/include/s32g2_sramc.h          |  0
 plat/nxp/{ => s32}/s32g/s32g2/platform.mk     | 10 ++--
 plat/nxp/{ => s32}/s32g/s32g2/s32g2_mc_me.c   |  0
 plat/nxp/{ => s32}/s32g/s32g2/s32g2_mc_rgm.c  |  0
 plat/nxp/{ => s32}/s32g/s32g2/s32g2_sramc.S   |  0
 .../s32g/s32g3/include/platform_def.h         |  0
 .../s32g/s32g3/include/s32g3_sramc.h          |  0
 plat/nxp/{ => s32}/s32g/s32g3/platform.mk     | 10 ++--
 plat/nxp/{ => s32}/s32g/s32g3/s32g3_mc_me.c   |  0
 plat/nxp/{ => s32}/s32g/s32g3/s32g3_mc_rgm.c  |  0
 plat/nxp/{ => s32}/s32g/s32g3/s32g3_sramc.S   |  0
 plat/nxp/{ => s32}/s32g/s32g_bl2_el3.c        |  0
 plat/nxp/{ => s32}/s32g/s32g_bl31.c           |  0
 plat/nxp/{ => s32}/s32g/s32g_bl_common.c      |  0
 plat/nxp/{ => s32}/s32g/s32g_clocks.c         |  0
 plat/nxp/{ => s32}/s32g/s32g_common.mk        | 56 +++++++++----------
 plat/nxp/{ => s32}/s32g/s32g_dt.c             |  0
 plat/nxp/{ => s32}/s32g/s32g_linflexuart.c    |  0
 .../{ => s32}/s32g/s32g_linflexuart_crash.S   |  0
 plat/nxp/{ => s32}/s32g/s32g_lowlevel_bl2.S   |  0
 .../nxp/{ => s32}/s32g/s32g_lowlevel_common.S |  0
 plat/nxp/{ => s32}/s32g/s32g_mc_me.c          |  0
 plat/nxp/{ => s32}/s32g/s32g_ncore.c          |  0
 plat/nxp/{ => s32}/s32g/s32g_pinctrl.c        |  0
 plat/nxp/{ => s32}/s32g/s32g_pm.c             |  0
 plat/nxp/{ => s32}/s32g/s32g_psci.c           |  0
 plat/nxp/{ => s32}/s32g/s32g_resume.c         |  0
 plat/nxp/{ => s32}/s32g/s32g_scmi_clk.c       |  0
 plat/nxp/{ => s32}/s32g/s32g_scmi_rst.c       |  0
 plat/nxp/{ => s32}/s32g/s32g_sramc.c          |  0
 plat/nxp/{ => s32}/s32g/s32g_storage.c        |  0
 plat/nxp/{ => s32}/s32g/s32g_svc.c            |  0
 plat/nxp/{ => s32}/s32g/s32g_vr5510.c         |  0
 plat/nxp/s32g/bl31_ssram/bl31_ssram.mk        | 31 ----------
 66 files changed, 78 insertions(+), 78 deletions(-)
 rename plat/nxp/{ => s32}/s32g/bl31_lowlevel.S (100%)
 rename plat/nxp/{ => s32}/s32g/bl31_sram/.gitignore (100%)
 rename plat/nxp/{ => s32}/s32g/bl31_sram/bl31SRAM.ld.S (100%)
 rename plat/nxp/{ => s32}/s32g/bl31_sram/bl31_sram.mk (54%)
 rename plat/nxp/{ => s32}/s32g/bl31_sram/bl31sram_entrypoint.S (100%)
 rename plat/nxp/{ => s32}/s32g/bl31_sram/bl31sram_main.c (100%)
 rename plat/nxp/{ => s32}/s32g/bl31_sram/include/bl31_sram.h (100%)
 rename plat/nxp/{ => s32}/s32g/bl31_ssram/.gitignore (100%)
 rename plat/nxp/{ => s32}/s32g/bl31_ssram/bl31SSRAM.ld.S (100%)
 create mode 100644 plat/nxp/s32/s32g/bl31_ssram/bl31_ssram.mk
 rename plat/nxp/{ => s32}/s32g/bl31_ssram/bl31ssram_entrypoint.S (100%)
 rename plat/nxp/{ => s32}/s32g/bl31_ssram/bl31ssram_main.c (100%)
 rename plat/nxp/{ => s32}/s32g/bl31_ssram/bl31ssram_stacks.S (100%)
 rename plat/nxp/{ => s32}/s32g/bl31_ssram/ddr_clk.c (100%)
 rename plat/nxp/{ => s32}/s32g/bl31_ssram/include/bl31_ssram.h (100%)
 rename plat/nxp/{ => s32}/s32g/include/plat_macros.S (100%)
 rename plat/nxp/{ => s32}/s32g/include/s32g_bl_common.h (100%)
 rename plat/nxp/{ => s32}/s32g/include/s32g_clocks.h (100%)
 rename plat/nxp/{ => s32}/s32g/include/s32g_dt.h (100%)
 rename plat/nxp/{ => s32}/s32g/include/s32g_ivt.h (100%)
 rename plat/nxp/{ => s32}/s32g/include/s32g_linflexuart.h (100%)
 rename plat/nxp/{ => s32}/s32g/include/s32g_lowlevel.h (100%)
 rename plat/nxp/{ => s32}/s32g/include/s32g_mc_me.h (100%)
 rename plat/nxp/{ => s32}/s32g/include/s32g_mc_rgm.h (100%)
 rename plat/nxp/{ => s32}/s32g/include/s32g_ncore.h (100%)
 rename plat/nxp/{ => s32}/s32g/include/s32g_pinctrl.h (100%)
 rename plat/nxp/{ => s32}/s32g/include/s32g_platform_def.h (100%)
 rename plat/nxp/{ => s32}/s32g/include/s32g_pm.h (100%)
 rename plat/nxp/{ => s32}/s32g/include/s32g_resume.h (100%)
 rename plat/nxp/{ => s32}/s32g/include/s32g_sramc.h (100%)
 rename plat/nxp/{ => s32}/s32g/include/s32g_storage.h (100%)
 rename plat/nxp/{ => s32}/s32g/s32g2/include/platform_def.h (100%)
 rename plat/nxp/{ => s32}/s32g/s32g2/include/s32g2_sramc.h (100%)
 rename plat/nxp/{ => s32}/s32g/s32g2/platform.mk (72%)
 rename plat/nxp/{ => s32}/s32g/s32g2/s32g2_mc_me.c (100%)
 rename plat/nxp/{ => s32}/s32g/s32g2/s32g2_mc_rgm.c (100%)
 rename plat/nxp/{ => s32}/s32g/s32g2/s32g2_sramc.S (100%)
 rename plat/nxp/{ => s32}/s32g/s32g3/include/platform_def.h (100%)
 rename plat/nxp/{ => s32}/s32g/s32g3/include/s32g3_sramc.h (100%)
 rename plat/nxp/{ => s32}/s32g/s32g3/platform.mk (66%)
 rename plat/nxp/{ => s32}/s32g/s32g3/s32g3_mc_me.c (100%)
 rename plat/nxp/{ => s32}/s32g/s32g3/s32g3_mc_rgm.c (100%)
 rename plat/nxp/{ => s32}/s32g/s32g3/s32g3_sramc.S (100%)
 rename plat/nxp/{ => s32}/s32g/s32g_bl2_el3.c (100%)
 rename plat/nxp/{ => s32}/s32g/s32g_bl31.c (100%)
 rename plat/nxp/{ => s32}/s32g/s32g_bl_common.c (100%)
 rename plat/nxp/{ => s32}/s32g/s32g_clocks.c (100%)
 rename plat/nxp/{ => s32}/s32g/s32g_common.mk (84%)
 rename plat/nxp/{ => s32}/s32g/s32g_dt.c (100%)
 rename plat/nxp/{ => s32}/s32g/s32g_linflexuart.c (100%)
 rename plat/nxp/{ => s32}/s32g/s32g_linflexuart_crash.S (100%)
 rename plat/nxp/{ => s32}/s32g/s32g_lowlevel_bl2.S (100%)
 rename plat/nxp/{ => s32}/s32g/s32g_lowlevel_common.S (100%)
 rename plat/nxp/{ => s32}/s32g/s32g_mc_me.c (100%)
 rename plat/nxp/{ => s32}/s32g/s32g_ncore.c (100%)
 rename plat/nxp/{ => s32}/s32g/s32g_pinctrl.c (100%)
 rename plat/nxp/{ => s32}/s32g/s32g_pm.c (100%)
 rename plat/nxp/{ => s32}/s32g/s32g_psci.c (100%)
 rename plat/nxp/{ => s32}/s32g/s32g_resume.c (100%)
 rename plat/nxp/{ => s32}/s32g/s32g_scmi_clk.c (100%)
 rename plat/nxp/{ => s32}/s32g/s32g_scmi_rst.c (100%)
 rename plat/nxp/{ => s32}/s32g/s32g_sramc.c (100%)
 rename plat/nxp/{ => s32}/s32g/s32g_storage.c (100%)
 rename plat/nxp/{ => s32}/s32g/s32g_svc.c (100%)
 rename plat/nxp/{ => s32}/s32g/s32g_vr5510.c (100%)
 delete mode 100644 plat/nxp/s32g/bl31_ssram/bl31_ssram.mk

diff --git a/plat/nxp/s32g/bl31_lowlevel.S b/plat/nxp/s32/s32g/bl31_lowlevel.S
similarity index 100%
rename from plat/nxp/s32g/bl31_lowlevel.S
rename to plat/nxp/s32/s32g/bl31_lowlevel.S
diff --git a/plat/nxp/s32g/bl31_sram/.gitignore b/plat/nxp/s32/s32g/bl31_sram/.gitignore
similarity index 100%
rename from plat/nxp/s32g/bl31_sram/.gitignore
rename to plat/nxp/s32/s32g/bl31_sram/.gitignore
diff --git a/plat/nxp/s32g/bl31_sram/bl31SRAM.ld.S b/plat/nxp/s32/s32g/bl31_sram/bl31SRAM.ld.S
similarity index 100%
rename from plat/nxp/s32g/bl31_sram/bl31SRAM.ld.S
rename to plat/nxp/s32/s32g/bl31_sram/bl31SRAM.ld.S
diff --git a/plat/nxp/s32g/bl31_sram/bl31_sram.mk b/plat/nxp/s32/s32g/bl31_sram/bl31_sram.mk
similarity index 54%
rename from plat/nxp/s32g/bl31_sram/bl31_sram.mk
rename to plat/nxp/s32/s32g/bl31_sram/bl31_sram.mk
index 71bb15e08..59c6f6683 100644
--- a/plat/nxp/s32g/bl31_sram/bl31_sram.mk
+++ b/plat/nxp/s32/s32g/bl31_sram/bl31_sram.mk
@@ -5,21 +5,21 @@
 #
 
 BL31SRAM_SOURCES = plat/common/aarch64/platform_up_stack.S \
-		   plat/nxp/s32g/bl31_sram/bl31sram_entrypoint.S \
-		   plat/nxp/s32g/bl31_sram/bl31sram_main.c \
-		   plat/nxp/s32g/s32g_clocks.c \
-		   plat/nxp/s32g/s32g_lowlevel_common.S \
-		   plat/nxp/s32g/s32g_mc_me.c \
-		   plat/nxp/s32g/s32g_linflexuart.c \
-		   plat/nxp/s32g/s32g_linflexuart_crash.S \
+		   plat/nxp/s32/s32g/bl31_sram/bl31sram_entrypoint.S \
+		   plat/nxp/s32/s32g/bl31_sram/bl31sram_main.c \
+		   plat/nxp/s32/s32g/s32g_clocks.c \
+		   plat/nxp/s32/s32g/s32g_lowlevel_common.S \
+		   plat/nxp/s32/s32g/s32g_mc_me.c \
+		   plat/nxp/s32/s32g/s32g_linflexuart.c \
+		   plat/nxp/s32/s32g/s32g_linflexuart_crash.S \
 		   drivers/nxp/uart/linflexuart.c \
 		   ${DDR_DRV}/ddr_lp_mmio.c \
 
 BL31SRAM_ARRAY_NAME ?= bl31sram
 BL31SRAM_ARRAY_LEN  ?= bl31sram_len
 
-BL31SRAM_SRC_DUMP   := plat/nxp/s32g/bl31_sram/bl31_sram.c
-BL31SRAM_LINKERFILE := plat/nxp/s32g/bl31_sram/bl31SRAM.ld.S
+BL31SRAM_SRC_DUMP   := plat/nxp/s32/s32g/bl31_sram/bl31_sram.c
+BL31SRAM_LINKERFILE := plat/nxp/s32/s32g/bl31_sram/bl31SRAM.ld.S
 
 $(eval $(call MAKE_BL,31SRAM))
 
diff --git a/plat/nxp/s32g/bl31_sram/bl31sram_entrypoint.S b/plat/nxp/s32/s32g/bl31_sram/bl31sram_entrypoint.S
similarity index 100%
rename from plat/nxp/s32g/bl31_sram/bl31sram_entrypoint.S
rename to plat/nxp/s32/s32g/bl31_sram/bl31sram_entrypoint.S
diff --git a/plat/nxp/s32g/bl31_sram/bl31sram_main.c b/plat/nxp/s32/s32g/bl31_sram/bl31sram_main.c
similarity index 100%
rename from plat/nxp/s32g/bl31_sram/bl31sram_main.c
rename to plat/nxp/s32/s32g/bl31_sram/bl31sram_main.c
diff --git a/plat/nxp/s32g/bl31_sram/include/bl31_sram.h b/plat/nxp/s32/s32g/bl31_sram/include/bl31_sram.h
similarity index 100%
rename from plat/nxp/s32g/bl31_sram/include/bl31_sram.h
rename to plat/nxp/s32/s32g/bl31_sram/include/bl31_sram.h
diff --git a/plat/nxp/s32g/bl31_ssram/.gitignore b/plat/nxp/s32/s32g/bl31_ssram/.gitignore
similarity index 100%
rename from plat/nxp/s32g/bl31_ssram/.gitignore
rename to plat/nxp/s32/s32g/bl31_ssram/.gitignore
diff --git a/plat/nxp/s32g/bl31_ssram/bl31SSRAM.ld.S b/plat/nxp/s32/s32g/bl31_ssram/bl31SSRAM.ld.S
similarity index 100%
rename from plat/nxp/s32g/bl31_ssram/bl31SSRAM.ld.S
rename to plat/nxp/s32/s32g/bl31_ssram/bl31SSRAM.ld.S
diff --git a/plat/nxp/s32/s32g/bl31_ssram/bl31_ssram.mk b/plat/nxp/s32/s32g/bl31_ssram/bl31_ssram.mk
new file mode 100644
index 000000000..636875c27
--- /dev/null
+++ b/plat/nxp/s32/s32g/bl31_ssram/bl31_ssram.mk
@@ -0,0 +1,31 @@
+#
+# Copyright 2020-2021 NXP
+#
+# SPDX-License-Identifier: BSD-3-Clause
+#
+
+BL31SSRAM_SOURCES =  plat/nxp/s32/s32g/bl31_ssram/bl31ssram_stacks.S \
+		     plat/nxp/s32/s32g/bl31_ssram/bl31ssram_entrypoint.S \
+		     plat/nxp/s32/s32g/bl31_ssram/bl31ssram_main.c \
+		     plat/nxp/s32/s32g/bl31_ssram/ddr_clk.c \
+		     plat/nxp/s32/s32g/s32g_clocks.c \
+		     plat/nxp/s32/s32g/s32g_mc_me.c \
+		     plat/nxp/s32/s32g/s32g_linflexuart.c \
+		     plat/nxp/s32/s32g/s32g_linflexuart_crash.S \
+		     drivers/nxp/uart/linflexuart.c \
+		     ${DDR_DRV_SRCS} \
+		     ${LIBC_SRCS}
+
+BL31SSRAM_ARRAY_NAME ?= bl31ssram
+BL31SSRAM_ARRAY_LEN  ?= bl31ssram_len
+
+BL31SSRAM_SRC_DUMP   := plat/nxp/s32/s32g/bl31_ssram/bl31_ssram.c
+BL31SSRAM_LINKERFILE := plat/nxp/s32/s32g/bl31_ssram/bl31SSRAM.ld.S
+
+$(eval $(call MAKE_BL,31SSRAM))
+
+${BL31SSRAM_SRC_DUMP}: ${BIN}
+	${ECHO} "  XXD     $<"
+	@${HEXDUMP} -g4 -u -i $^ $@
+	@${SED} -ie "s#[[:alnum:]_]\+\[\]#${BL31SSRAM_ARRAY_NAME}[]#g" $@
+	@${SED} -ie  "s#^unsigned int [^=]\+= #unsigned int ${BL31SSRAM_ARRAY_LEN} = #g" $@
diff --git a/plat/nxp/s32g/bl31_ssram/bl31ssram_entrypoint.S b/plat/nxp/s32/s32g/bl31_ssram/bl31ssram_entrypoint.S
similarity index 100%
rename from plat/nxp/s32g/bl31_ssram/bl31ssram_entrypoint.S
rename to plat/nxp/s32/s32g/bl31_ssram/bl31ssram_entrypoint.S
diff --git a/plat/nxp/s32g/bl31_ssram/bl31ssram_main.c b/plat/nxp/s32/s32g/bl31_ssram/bl31ssram_main.c
similarity index 100%
rename from plat/nxp/s32g/bl31_ssram/bl31ssram_main.c
rename to plat/nxp/s32/s32g/bl31_ssram/bl31ssram_main.c
diff --git a/plat/nxp/s32g/bl31_ssram/bl31ssram_stacks.S b/plat/nxp/s32/s32g/bl31_ssram/bl31ssram_stacks.S
similarity index 100%
rename from plat/nxp/s32g/bl31_ssram/bl31ssram_stacks.S
rename to plat/nxp/s32/s32g/bl31_ssram/bl31ssram_stacks.S
diff --git a/plat/nxp/s32g/bl31_ssram/ddr_clk.c b/plat/nxp/s32/s32g/bl31_ssram/ddr_clk.c
similarity index 100%
rename from plat/nxp/s32g/bl31_ssram/ddr_clk.c
rename to plat/nxp/s32/s32g/bl31_ssram/ddr_clk.c
diff --git a/plat/nxp/s32g/bl31_ssram/include/bl31_ssram.h b/plat/nxp/s32/s32g/bl31_ssram/include/bl31_ssram.h
similarity index 100%
rename from plat/nxp/s32g/bl31_ssram/include/bl31_ssram.h
rename to plat/nxp/s32/s32g/bl31_ssram/include/bl31_ssram.h
diff --git a/plat/nxp/s32g/include/plat_macros.S b/plat/nxp/s32/s32g/include/plat_macros.S
similarity index 100%
rename from plat/nxp/s32g/include/plat_macros.S
rename to plat/nxp/s32/s32g/include/plat_macros.S
diff --git a/plat/nxp/s32g/include/s32g_bl_common.h b/plat/nxp/s32/s32g/include/s32g_bl_common.h
similarity index 100%
rename from plat/nxp/s32g/include/s32g_bl_common.h
rename to plat/nxp/s32/s32g/include/s32g_bl_common.h
diff --git a/plat/nxp/s32g/include/s32g_clocks.h b/plat/nxp/s32/s32g/include/s32g_clocks.h
similarity index 100%
rename from plat/nxp/s32g/include/s32g_clocks.h
rename to plat/nxp/s32/s32g/include/s32g_clocks.h
diff --git a/plat/nxp/s32g/include/s32g_dt.h b/plat/nxp/s32/s32g/include/s32g_dt.h
similarity index 100%
rename from plat/nxp/s32g/include/s32g_dt.h
rename to plat/nxp/s32/s32g/include/s32g_dt.h
diff --git a/plat/nxp/s32g/include/s32g_ivt.h b/plat/nxp/s32/s32g/include/s32g_ivt.h
similarity index 100%
rename from plat/nxp/s32g/include/s32g_ivt.h
rename to plat/nxp/s32/s32g/include/s32g_ivt.h
diff --git a/plat/nxp/s32g/include/s32g_linflexuart.h b/plat/nxp/s32/s32g/include/s32g_linflexuart.h
similarity index 100%
rename from plat/nxp/s32g/include/s32g_linflexuart.h
rename to plat/nxp/s32/s32g/include/s32g_linflexuart.h
diff --git a/plat/nxp/s32g/include/s32g_lowlevel.h b/plat/nxp/s32/s32g/include/s32g_lowlevel.h
similarity index 100%
rename from plat/nxp/s32g/include/s32g_lowlevel.h
rename to plat/nxp/s32/s32g/include/s32g_lowlevel.h
diff --git a/plat/nxp/s32g/include/s32g_mc_me.h b/plat/nxp/s32/s32g/include/s32g_mc_me.h
similarity index 100%
rename from plat/nxp/s32g/include/s32g_mc_me.h
rename to plat/nxp/s32/s32g/include/s32g_mc_me.h
diff --git a/plat/nxp/s32g/include/s32g_mc_rgm.h b/plat/nxp/s32/s32g/include/s32g_mc_rgm.h
similarity index 100%
rename from plat/nxp/s32g/include/s32g_mc_rgm.h
rename to plat/nxp/s32/s32g/include/s32g_mc_rgm.h
diff --git a/plat/nxp/s32g/include/s32g_ncore.h b/plat/nxp/s32/s32g/include/s32g_ncore.h
similarity index 100%
rename from plat/nxp/s32g/include/s32g_ncore.h
rename to plat/nxp/s32/s32g/include/s32g_ncore.h
diff --git a/plat/nxp/s32g/include/s32g_pinctrl.h b/plat/nxp/s32/s32g/include/s32g_pinctrl.h
similarity index 100%
rename from plat/nxp/s32g/include/s32g_pinctrl.h
rename to plat/nxp/s32/s32g/include/s32g_pinctrl.h
diff --git a/plat/nxp/s32g/include/s32g_platform_def.h b/plat/nxp/s32/s32g/include/s32g_platform_def.h
similarity index 100%
rename from plat/nxp/s32g/include/s32g_platform_def.h
rename to plat/nxp/s32/s32g/include/s32g_platform_def.h
diff --git a/plat/nxp/s32g/include/s32g_pm.h b/plat/nxp/s32/s32g/include/s32g_pm.h
similarity index 100%
rename from plat/nxp/s32g/include/s32g_pm.h
rename to plat/nxp/s32/s32g/include/s32g_pm.h
diff --git a/plat/nxp/s32g/include/s32g_resume.h b/plat/nxp/s32/s32g/include/s32g_resume.h
similarity index 100%
rename from plat/nxp/s32g/include/s32g_resume.h
rename to plat/nxp/s32/s32g/include/s32g_resume.h
diff --git a/plat/nxp/s32g/include/s32g_sramc.h b/plat/nxp/s32/s32g/include/s32g_sramc.h
similarity index 100%
rename from plat/nxp/s32g/include/s32g_sramc.h
rename to plat/nxp/s32/s32g/include/s32g_sramc.h
diff --git a/plat/nxp/s32g/include/s32g_storage.h b/plat/nxp/s32/s32g/include/s32g_storage.h
similarity index 100%
rename from plat/nxp/s32g/include/s32g_storage.h
rename to plat/nxp/s32/s32g/include/s32g_storage.h
diff --git a/plat/nxp/s32g/s32g2/include/platform_def.h b/plat/nxp/s32/s32g/s32g2/include/platform_def.h
similarity index 100%
rename from plat/nxp/s32g/s32g2/include/platform_def.h
rename to plat/nxp/s32/s32g/s32g2/include/platform_def.h
diff --git a/plat/nxp/s32g/s32g2/include/s32g2_sramc.h b/plat/nxp/s32/s32g/s32g2/include/s32g2_sramc.h
similarity index 100%
rename from plat/nxp/s32g/s32g2/include/s32g2_sramc.h
rename to plat/nxp/s32/s32g/s32g2/include/s32g2_sramc.h
diff --git a/plat/nxp/s32g/s32g2/platform.mk b/plat/nxp/s32/s32g/s32g2/platform.mk
similarity index 72%
rename from plat/nxp/s32g/s32g2/platform.mk
rename to plat/nxp/s32/s32g/s32g2/platform.mk
index 29de6f6bf..9e9a79dd4 100644
--- a/plat/nxp/s32g/s32g2/platform.mk
+++ b/plat/nxp/s32/s32g/s32g2/platform.mk
@@ -10,14 +10,14 @@ DDR_DRV_SRCS            += ${DDR_DRV}/s32g2/ddrc_cfg.c \
 			   ${DDR_DRV}/s32g2/phy_cfg.c \
 			   ${DDR_DRV}/s32g2/pie_cfg.c \
 
-include plat/nxp/s32g/s32g_common.mk
+include plat/nxp/s32/s32g/s32g_common.mk
 
-PLAT_INCLUDES		+= -Iplat/nxp/s32g/s32g2/include \
+PLAT_INCLUDES		+= -Iplat/nxp/s32/s32g/s32g2/include \
 
 PLAT_BL_COMMON_SOURCES	+= drivers/nxp/s32g/clk/s32g274a_clk.c \
-			   plat/nxp/s32g/s32g2/s32g2_sramc.S \
-			   plat/nxp/s32g/s32g2/s32g2_mc_me.c \
-			   plat/nxp/s32g/s32g2/s32g2_mc_rgm.c \
+			   plat/nxp/s32/s32g/s32g2/s32g2_sramc.S \
+			   plat/nxp/s32/s32g/s32g2/s32g2_mc_me.c \
+			   plat/nxp/s32/s32g/s32g2/s32g2_mc_rgm.c \
 			   lib/cpus/aarch64/s32g2.S \
 			   lib/cpus/aarch64/cortex_a53.S \
 
diff --git a/plat/nxp/s32g/s32g2/s32g2_mc_me.c b/plat/nxp/s32/s32g/s32g2/s32g2_mc_me.c
similarity index 100%
rename from plat/nxp/s32g/s32g2/s32g2_mc_me.c
rename to plat/nxp/s32/s32g/s32g2/s32g2_mc_me.c
diff --git a/plat/nxp/s32g/s32g2/s32g2_mc_rgm.c b/plat/nxp/s32/s32g/s32g2/s32g2_mc_rgm.c
similarity index 100%
rename from plat/nxp/s32g/s32g2/s32g2_mc_rgm.c
rename to plat/nxp/s32/s32g/s32g2/s32g2_mc_rgm.c
diff --git a/plat/nxp/s32g/s32g2/s32g2_sramc.S b/plat/nxp/s32/s32g/s32g2/s32g2_sramc.S
similarity index 100%
rename from plat/nxp/s32g/s32g2/s32g2_sramc.S
rename to plat/nxp/s32/s32g/s32g2/s32g2_sramc.S
diff --git a/plat/nxp/s32g/s32g3/include/platform_def.h b/plat/nxp/s32/s32g/s32g3/include/platform_def.h
similarity index 100%
rename from plat/nxp/s32g/s32g3/include/platform_def.h
rename to plat/nxp/s32/s32g/s32g3/include/platform_def.h
diff --git a/plat/nxp/s32g/s32g3/include/s32g3_sramc.h b/plat/nxp/s32/s32g/s32g3/include/s32g3_sramc.h
similarity index 100%
rename from plat/nxp/s32g/s32g3/include/s32g3_sramc.h
rename to plat/nxp/s32/s32g/s32g3/include/s32g3_sramc.h
diff --git a/plat/nxp/s32g/s32g3/platform.mk b/plat/nxp/s32/s32g/s32g3/platform.mk
similarity index 66%
rename from plat/nxp/s32g/s32g3/platform.mk
rename to plat/nxp/s32/s32g/s32g3/platform.mk
index b03bc56a5..cc1de703e 100644
--- a/plat/nxp/s32g/s32g3/platform.mk
+++ b/plat/nxp/s32/s32g/s32g3/platform.mk
@@ -10,13 +10,13 @@ DDR_DRV_SRCS            += ${DDR_DRV}/s32g3/ddrc_cfg.c \
 			   ${DDR_DRV}/s32g3/phy_cfg.c \
 			   ${DDR_DRV}/s32g3/pie_cfg.c \
 
-include plat/nxp/s32g/s32g_common.mk
+include plat/nxp/s32/s32g/s32g_common.mk
 
-PLAT_INCLUDES		+= -Iplat/nxp/s32g/s32g3/include \
+PLAT_INCLUDES		+= -Iplat/nxp/s32/s32g/s32g3/include \
 
-PLAT_BL_COMMON_SOURCES	+= plat/nxp/s32g/s32g3/s32g3_sramc.S \
-			   plat/nxp/s32g/s32g3/s32g3_mc_me.c \
-			   plat/nxp/s32g/s32g3/s32g3_mc_rgm.c \
+PLAT_BL_COMMON_SOURCES	+= plat/nxp/s32/s32g/s32g3/s32g3_sramc.S \
+			   plat/nxp/s32/s32g/s32g3/s32g3_mc_me.c \
+			   plat/nxp/s32/s32g/s32g3/s32g3_mc_rgm.c \
 			   drivers/nxp/s32g/clk/s32g398a_clk.c \
 			   lib/cpus/aarch64/cortex_a53.S \
 
diff --git a/plat/nxp/s32g/s32g3/s32g3_mc_me.c b/plat/nxp/s32/s32g/s32g3/s32g3_mc_me.c
similarity index 100%
rename from plat/nxp/s32g/s32g3/s32g3_mc_me.c
rename to plat/nxp/s32/s32g/s32g3/s32g3_mc_me.c
diff --git a/plat/nxp/s32g/s32g3/s32g3_mc_rgm.c b/plat/nxp/s32/s32g/s32g3/s32g3_mc_rgm.c
similarity index 100%
rename from plat/nxp/s32g/s32g3/s32g3_mc_rgm.c
rename to plat/nxp/s32/s32g/s32g3/s32g3_mc_rgm.c
diff --git a/plat/nxp/s32g/s32g3/s32g3_sramc.S b/plat/nxp/s32/s32g/s32g3/s32g3_sramc.S
similarity index 100%
rename from plat/nxp/s32g/s32g3/s32g3_sramc.S
rename to plat/nxp/s32/s32g/s32g3/s32g3_sramc.S
diff --git a/plat/nxp/s32g/s32g_bl2_el3.c b/plat/nxp/s32/s32g/s32g_bl2_el3.c
similarity index 100%
rename from plat/nxp/s32g/s32g_bl2_el3.c
rename to plat/nxp/s32/s32g/s32g_bl2_el3.c
diff --git a/plat/nxp/s32g/s32g_bl31.c b/plat/nxp/s32/s32g/s32g_bl31.c
similarity index 100%
rename from plat/nxp/s32g/s32g_bl31.c
rename to plat/nxp/s32/s32g/s32g_bl31.c
diff --git a/plat/nxp/s32g/s32g_bl_common.c b/plat/nxp/s32/s32g/s32g_bl_common.c
similarity index 100%
rename from plat/nxp/s32g/s32g_bl_common.c
rename to plat/nxp/s32/s32g/s32g_bl_common.c
diff --git a/plat/nxp/s32g/s32g_clocks.c b/plat/nxp/s32/s32g/s32g_clocks.c
similarity index 100%
rename from plat/nxp/s32g/s32g_clocks.c
rename to plat/nxp/s32/s32g/s32g_clocks.c
diff --git a/plat/nxp/s32g/s32g_common.mk b/plat/nxp/s32/s32g/s32g_common.mk
similarity index 84%
rename from plat/nxp/s32g/s32g_common.mk
rename to plat/nxp/s32/s32g/s32g_common.mk
index 9c944989d..bb337aa59 100644
--- a/plat/nxp/s32g/s32g_common.mk
+++ b/plat/nxp/s32/s32g/s32g_common.mk
@@ -31,12 +31,12 @@ DDR_DRV_SRCS += \
 	${DDR_DRV}/ddrss_cfg.c \
 	${DDR_DRV}/imem_cfg.c \
 
-include plat/nxp/s32g/bl31_sram/bl31_sram.mk
-include plat/nxp/s32g/bl31_ssram/bl31_ssram.mk
+include plat/nxp/s32/s32g/bl31_sram/bl31_sram.mk
+include plat/nxp/s32/s32g/bl31_ssram/bl31_ssram.mk
 
-PLAT_INCLUDES		+= -Iplat/nxp/s32g/include \
-			   -Iplat/nxp/s32g/bl31_sram/include \
-			   -Iplat/nxp/s32g/bl31_ssram/include \
+PLAT_INCLUDES		+= -Iplat/nxp/s32/s32g/include \
+			   -Iplat/nxp/s32/s32g/bl31_sram/include \
+			   -Iplat/nxp/s32/s32g/bl31_ssram/include \
 			   -Iinclude/common/tbbr \
 			   -Iinclude/plat/common \
 			   -Iinclude/plat/arm/common \
@@ -50,16 +50,16 @@ PLAT_INCLUDES		+= -Iplat/nxp/s32g/include \
 
 BL2_AT_EL3		:= 1
 
-PLAT_BL_COMMON_SOURCES	+= plat/nxp/s32g/s32g_lowlevel_common.S \
-			   plat/nxp/s32g/s32g_mc_me.c \
-			   plat/nxp/s32g/s32g_ncore.c \
-			   plat/nxp/s32g/s32g_bl_common.c \
-			   plat/nxp/s32g/s32g_dt.c \
-			   plat/nxp/s32g/s32g_pinctrl.c \
-			   plat/nxp/s32g/s32g_clocks.c \
-			   plat/nxp/s32g/s32g_sramc.c \
-			   plat/nxp/s32g/s32g_linflexuart.c \
-			   plat/nxp/s32g/s32g_linflexuart_crash.S \
+PLAT_BL_COMMON_SOURCES	+= plat/nxp/s32/s32g/s32g_lowlevel_common.S \
+			   plat/nxp/s32/s32g/s32g_mc_me.c \
+			   plat/nxp/s32/s32g/s32g_ncore.c \
+			   plat/nxp/s32/s32g/s32g_bl_common.c \
+			   plat/nxp/s32/s32g/s32g_dt.c \
+			   plat/nxp/s32/s32g/s32g_pinctrl.c \
+			   plat/nxp/s32/s32g/s32g_clocks.c \
+			   plat/nxp/s32/s32g/s32g_sramc.c \
+			   plat/nxp/s32/s32g/s32g_linflexuart.c \
+			   plat/nxp/s32/s32g/s32g_linflexuart_crash.S \
 			   drivers/nxp/s32g/i2c/s32g_i2c.c \
 			   drivers/delay_timer/delay_timer.c \
 			   drivers/delay_timer/generic_delay_timer.c \
@@ -75,15 +75,15 @@ PLAT_BL_COMMON_SOURCES	+= plat/nxp/s32g/s32g_lowlevel_common.S \
 			   drivers/nxp/uart/linflexuart.c \
 			   drivers/nxp/s32g/ocotp.c \
 			   lib/utils/crc8.c \
-			   plat/nxp/s32g/s32g_vr5510.c \
+			   plat/nxp/s32/s32g/s32g_vr5510.c \
 			   drivers/nxp/s32g/pmic/vr5510.c \
 			   common/fdt_wrappers.c \
 			   ${GICV3_SOURCES} \
 			   ${BL31SRAM_SRC_DUMP} \
 
-BL2_SOURCES		+= plat/nxp/s32g/s32g_lowlevel_bl2.S \
-			   plat/nxp/s32g/s32g_bl2_el3.c \
-			   plat/nxp/s32g/s32g_storage.c \
+BL2_SOURCES		+= plat/nxp/s32/s32g/s32g_lowlevel_bl2.S \
+			   plat/nxp/s32/s32g/s32g_bl2_el3.c \
+			   plat/nxp/s32/s32g/s32g_storage.c \
 			   drivers/io/io_storage.c \
 			   common/desc_image_load.c \
 			   common/fdt_fixup.c \
@@ -97,13 +97,13 @@ BL2_SOURCES		+= plat/nxp/s32g/s32g_lowlevel_bl2.S \
 			   lib/optee/optee_utils.c \
 			   ${XLAT_TABLES_LIB_SRCS} \
 
-BL31_SOURCES		+= plat/nxp/s32g/s32g_bl31.c \
-			   plat/nxp/s32g/s32g_psci.c \
-			   plat/nxp/s32g/s32g_resume.c \
-			   plat/nxp/s32g/s32g_pm.c \
-			   plat/nxp/s32g/s32g_svc.c \
-			   plat/nxp/s32g/s32g_scmi_clk.c \
-			   plat/nxp/s32g/s32g_scmi_rst.c \
+BL31_SOURCES		+= plat/nxp/s32/s32g/s32g_bl31.c \
+			   plat/nxp/s32/s32g/s32g_psci.c \
+			   plat/nxp/s32/s32g/s32g_resume.c \
+			   plat/nxp/s32/s32g/s32g_pm.c \
+			   plat/nxp/s32/s32g/s32g_svc.c \
+			   plat/nxp/s32/s32g/s32g_scmi_clk.c \
+			   plat/nxp/s32/s32g/s32g_scmi_rst.c \
 			   plat/common/plat_psci_common.c \
 			   plat/common/plat_gicv3.c \
 			   drivers/nxp/s32g/s32g_wkpu.c \
@@ -117,8 +117,8 @@ BL31_SOURCES		+= plat/nxp/s32g/s32g_bl31.c \
 			   drivers/scmi-msg/entry.c \
 			   drivers/scmi-msg/reset_domain.c \
 
-BL31_SOURCES		+= plat/nxp/s32g/bl31_lowlevel.S \
-			   plat/nxp/s32g/include/plat_macros.S
+BL31_SOURCES		+= plat/nxp/s32/s32g/bl31_lowlevel.S \
+			   plat/nxp/s32/s32g/include/plat_macros.S
 
 BL31_SOURCES		+= ${XLAT_TABLES_LIB_SRCS}
 
diff --git a/plat/nxp/s32g/s32g_dt.c b/plat/nxp/s32/s32g/s32g_dt.c
similarity index 100%
rename from plat/nxp/s32g/s32g_dt.c
rename to plat/nxp/s32/s32g/s32g_dt.c
diff --git a/plat/nxp/s32g/s32g_linflexuart.c b/plat/nxp/s32/s32g/s32g_linflexuart.c
similarity index 100%
rename from plat/nxp/s32g/s32g_linflexuart.c
rename to plat/nxp/s32/s32g/s32g_linflexuart.c
diff --git a/plat/nxp/s32g/s32g_linflexuart_crash.S b/plat/nxp/s32/s32g/s32g_linflexuart_crash.S
similarity index 100%
rename from plat/nxp/s32g/s32g_linflexuart_crash.S
rename to plat/nxp/s32/s32g/s32g_linflexuart_crash.S
diff --git a/plat/nxp/s32g/s32g_lowlevel_bl2.S b/plat/nxp/s32/s32g/s32g_lowlevel_bl2.S
similarity index 100%
rename from plat/nxp/s32g/s32g_lowlevel_bl2.S
rename to plat/nxp/s32/s32g/s32g_lowlevel_bl2.S
diff --git a/plat/nxp/s32g/s32g_lowlevel_common.S b/plat/nxp/s32/s32g/s32g_lowlevel_common.S
similarity index 100%
rename from plat/nxp/s32g/s32g_lowlevel_common.S
rename to plat/nxp/s32/s32g/s32g_lowlevel_common.S
diff --git a/plat/nxp/s32g/s32g_mc_me.c b/plat/nxp/s32/s32g/s32g_mc_me.c
similarity index 100%
rename from plat/nxp/s32g/s32g_mc_me.c
rename to plat/nxp/s32/s32g/s32g_mc_me.c
diff --git a/plat/nxp/s32g/s32g_ncore.c b/plat/nxp/s32/s32g/s32g_ncore.c
similarity index 100%
rename from plat/nxp/s32g/s32g_ncore.c
rename to plat/nxp/s32/s32g/s32g_ncore.c
diff --git a/plat/nxp/s32g/s32g_pinctrl.c b/plat/nxp/s32/s32g/s32g_pinctrl.c
similarity index 100%
rename from plat/nxp/s32g/s32g_pinctrl.c
rename to plat/nxp/s32/s32g/s32g_pinctrl.c
diff --git a/plat/nxp/s32g/s32g_pm.c b/plat/nxp/s32/s32g/s32g_pm.c
similarity index 100%
rename from plat/nxp/s32g/s32g_pm.c
rename to plat/nxp/s32/s32g/s32g_pm.c
diff --git a/plat/nxp/s32g/s32g_psci.c b/plat/nxp/s32/s32g/s32g_psci.c
similarity index 100%
rename from plat/nxp/s32g/s32g_psci.c
rename to plat/nxp/s32/s32g/s32g_psci.c
diff --git a/plat/nxp/s32g/s32g_resume.c b/plat/nxp/s32/s32g/s32g_resume.c
similarity index 100%
rename from plat/nxp/s32g/s32g_resume.c
rename to plat/nxp/s32/s32g/s32g_resume.c
diff --git a/plat/nxp/s32g/s32g_scmi_clk.c b/plat/nxp/s32/s32g/s32g_scmi_clk.c
similarity index 100%
rename from plat/nxp/s32g/s32g_scmi_clk.c
rename to plat/nxp/s32/s32g/s32g_scmi_clk.c
diff --git a/plat/nxp/s32g/s32g_scmi_rst.c b/plat/nxp/s32/s32g/s32g_scmi_rst.c
similarity index 100%
rename from plat/nxp/s32g/s32g_scmi_rst.c
rename to plat/nxp/s32/s32g/s32g_scmi_rst.c
diff --git a/plat/nxp/s32g/s32g_sramc.c b/plat/nxp/s32/s32g/s32g_sramc.c
similarity index 100%
rename from plat/nxp/s32g/s32g_sramc.c
rename to plat/nxp/s32/s32g/s32g_sramc.c
diff --git a/plat/nxp/s32g/s32g_storage.c b/plat/nxp/s32/s32g/s32g_storage.c
similarity index 100%
rename from plat/nxp/s32g/s32g_storage.c
rename to plat/nxp/s32/s32g/s32g_storage.c
diff --git a/plat/nxp/s32g/s32g_svc.c b/plat/nxp/s32/s32g/s32g_svc.c
similarity index 100%
rename from plat/nxp/s32g/s32g_svc.c
rename to plat/nxp/s32/s32g/s32g_svc.c
diff --git a/plat/nxp/s32g/s32g_vr5510.c b/plat/nxp/s32/s32g/s32g_vr5510.c
similarity index 100%
rename from plat/nxp/s32g/s32g_vr5510.c
rename to plat/nxp/s32/s32g/s32g_vr5510.c
diff --git a/plat/nxp/s32g/bl31_ssram/bl31_ssram.mk b/plat/nxp/s32g/bl31_ssram/bl31_ssram.mk
deleted file mode 100644
index 42664f3c9..000000000
--- a/plat/nxp/s32g/bl31_ssram/bl31_ssram.mk
+++ /dev/null
@@ -1,31 +0,0 @@
-#
-# Copyright 2020-2021 NXP
-#
-# SPDX-License-Identifier: BSD-3-Clause
-#
-
-BL31SSRAM_SOURCES =  plat/nxp/s32g/bl31_ssram/bl31ssram_stacks.S \
-		     plat/nxp/s32g/bl31_ssram/bl31ssram_entrypoint.S \
-		     plat/nxp/s32g/bl31_ssram/bl31ssram_main.c \
-		     plat/nxp/s32g/bl31_ssram/ddr_clk.c \
-		     plat/nxp/s32g/s32g_clocks.c \
-		     plat/nxp/s32g/s32g_mc_me.c \
-		     plat/nxp/s32g/s32g_linflexuart.c \
-		     plat/nxp/s32g/s32g_linflexuart_crash.S \
-		     drivers/nxp/uart/linflexuart.c \
-		     ${DDR_DRV_SRCS} \
-		     ${LIBC_SRCS}
-
-BL31SSRAM_ARRAY_NAME ?= bl31ssram
-BL31SSRAM_ARRAY_LEN  ?= bl31ssram_len
-
-BL31SSRAM_SRC_DUMP   := plat/nxp/s32g/bl31_ssram/bl31_ssram.c
-BL31SSRAM_LINKERFILE := plat/nxp/s32g/bl31_ssram/bl31SSRAM.ld.S
-
-$(eval $(call MAKE_BL,31SSRAM))
-
-${BL31SSRAM_SRC_DUMP}: ${BIN}
-	${ECHO} "  XXD     $<"
-	@${HEXDUMP} -g4 -u -i $^ $@
-	@${SED} -ie "s#[[:alnum:]_]\+\[\]#${BL31SSRAM_ARRAY_NAME}[]#g" $@
-	@${SED} -ie  "s#^unsigned int [^=]\+= #unsigned int ${BL31SSRAM_ARRAY_LEN} = #g" $@
-- 
2.17.1

