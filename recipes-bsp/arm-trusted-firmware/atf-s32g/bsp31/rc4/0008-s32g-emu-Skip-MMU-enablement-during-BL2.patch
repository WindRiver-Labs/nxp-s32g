From 2843d289b93b2962b5dac1c1b86baeede8cbda60 Mon Sep 17 00:00:00 2001
From: Ghennadi Procopciuc <ghennadi.procopciuc@nxp.com>
Date: Fri, 22 Oct 2021 08:04:28 +0300
Subject: [PATCH 08/16] s32g: emu: Skip MMU enablement during BL2

Issue: ALB-7712
Upstream-Status: Pending 

Signed-off-by: Ghennadi Procopciuc <ghennadi.procopciuc@nxp.com>
Signed-off-by: Zhantao Tang <zhantao.tang@windriver.com>
---
 plat/nxp/s32/s32g/s32g_bl2_el3.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/plat/nxp/s32/s32g/s32g_bl2_el3.c b/plat/nxp/s32/s32g/s32g_bl2_el3.c
index dbafa0997..096d823d6 100644
--- a/plat/nxp/s32/s32g/s32g_bl2_el3.c
+++ b/plat/nxp/s32/s32g/s32g_bl2_el3.c
@@ -661,9 +661,9 @@ void bl2_el3_plat_arch_setup(void)
 {
 	uint32_t ret;
 
+#if S32G_EMU == 0
 	s32g_el3_mmu_fixup();
 
-#if S32G_EMU == 0
 	dt_init_ocotp();
 	dt_init_pmic();
 
-- 
2.17.1

