From 0d34b5877203c1c26cd59ef695b82f91732e3138 Mon Sep 17 00:00:00 2001
From: Bogdan-Gabriel Roman <bogdan-gabriel.roman@nxp.com>
Date: Tue, 26 Oct 2021 15:16:50 +0300
Subject: [PATCH 14/16] s32gen1: dts: remove clock rate for early configured
 clocks

Certain clocks have their rates set during enable_early_clock()
procedure and there is no need to have their rates re-set during s32gen1
clock driver probe. This will also enable early clocks to have their
rates configurable at run-time because the s32gen1 driver will not
enforce any rate defined in the dts.

Issue: ALB-7717
Upstream-Status: Pending 

Signed-off-by: Bogdan-Gabriel Roman <bogdan-gabriel.roman@nxp.com>
Signed-off-by: Zhantao Tang <zhantao.tang@windriver.com>
---
 fdts/fsl-s32-gen1.dtsi | 11 ++---------
 fdts/fsl-s32g398a.dtsi |  2 +-
 2 files changed, 3 insertions(+), 10 deletions(-)

diff --git a/fdts/fsl-s32-gen1.dtsi b/fdts/fsl-s32-gen1.dtsi
index 68d9085f6..877dfe2ee 100644
--- a/fdts/fsl-s32-gen1.dtsi
+++ b/fdts/fsl-s32-gen1.dtsi
@@ -202,10 +202,6 @@
 				<&clks S32GEN1_CLK_ARM_PLL_PHI0>;
 			assigned-clock-parents =
 				<&clks S32GEN1_CLK_FXOSC>;
-			assigned-clock-rates =
-				<0>,
-				<S32GEN1_ARM_PLL_VCO_MAX_FREQ>,
-				<S32GEN1_ARM_PLL_PHI0_MAX_FREQ>;
 		};
 
 		armdfs: armdfs@40054000 {
@@ -216,7 +212,7 @@
 				<&clks S32GEN1_CLK_ARM_PLL_DFS1>,
 				<&clks S32GEN1_CLK_ARM_PLL_DFS2>;
 			assigned-clock-rates =
-				<S32GEN1_CLK_ARM_PLL_DFS1_FREQ>,
+				<0>,
 				<800000000>;
 		};
 
@@ -331,7 +327,7 @@
 				<0>,
 				<0>,
 				<0>,
-				<S32GEN1_XBAR_2X_FREQ>,
+				<0>,
 				<80000000>,
 				<40000000>,
 				<40000000>,
@@ -353,9 +349,6 @@
 			assigned-clock-parents =
 				<&clks S32GEN1_CLK_ARM_PLL_PHI0>,
 				<0>;
-			assigned-clock-rates =
-				<0>,
-				<S32GEN1_A53_MAX_FREQ>;
 		};
 
 		mc_cgm5: mc_cgm5@40068000 {
diff --git a/fdts/fsl-s32g398a.dtsi b/fdts/fsl-s32g398a.dtsi
index 2f336d571..e4b8a1f24 100644
--- a/fdts/fsl-s32g398a.dtsi
+++ b/fdts/fsl-s32g398a.dtsi
@@ -60,7 +60,7 @@
 			<0>,
 			<0>,
 			<80000000>,
-			<S32GEN1_XBAR_2X_FREQ>,
+			<0>,
 			<40000000>,
 			<40000000>,
 			<80000000>,
-- 
2.17.1

