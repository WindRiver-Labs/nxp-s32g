From fa55bec0a33cc82f42729ba5b87a634cbbf88d6c Mon Sep 17 00:00:00 2001
From: Ghennadi Procopciuc <ghennadi.procopciuc@oss.nxp.com>
Date: Thu, 16 Sep 2021 16:11:36 +0300
Subject: [PATCH 01/24] nxp/s32g: Enable workarounds for A53 r0p4 errata

Enable r0p4 errata for A53 cores present on all S32G

Issue: ALB-7731
Upstream-Status: Pending 

Signed-off-by: Ghennadi Procopciuc <ghennadi.procopciuc@nxp.com>
Signed-off-by: Zhantao Tang <zhantao.tang@windriver.com>
---
 plat/nxp/s32g/s32g2/platform.mk | 3 ---
 plat/nxp/s32g/s32g_common.mk    | 4 ++++
 2 files changed, 4 insertions(+), 3 deletions(-)

diff --git a/plat/nxp/s32g/s32g2/platform.mk b/plat/nxp/s32g/s32g2/platform.mk
index 4b1276058..814631aa7 100644
--- a/plat/nxp/s32g/s32g2/platform.mk
+++ b/plat/nxp/s32g/s32g2/platform.mk
@@ -12,9 +12,6 @@ PLAT_BL_COMMON_SOURCES	+= drivers/nxp/s32g/clk/s32g274a_clk.c \
 			   lib/cpus/aarch64/cortex_a53.S \
 
 ERRATA_S32G2_050481	:= 1
-ERRATA_A53_855873	:= 1
-ERRATA_A53_836870	:= 1
-ERRATA_A53_1530924	:= 1
 
 # Device tree
 DTB_FILE_NAME		?= fsl-s32g274a-rdb.dtb
diff --git a/plat/nxp/s32g/s32g_common.mk b/plat/nxp/s32g/s32g_common.mk
index 6220e3247..da490acf4 100644
--- a/plat/nxp/s32g/s32g_common.mk
+++ b/plat/nxp/s32g/s32g_common.mk
@@ -10,6 +10,10 @@ include lib/libfdt/libfdt.mk
 include lib/xlat_tables_v2/xlat_tables.mk
 include make_helpers/build_macros.mk
 
+ERRATA_A53_855873	:= 1
+ERRATA_A53_836870	:= 1
+ERRATA_A53_1530924	:= 1
+
 # Tools
 HEXDUMP ?= xxd
 SED ?= sed
-- 
2.17.1

