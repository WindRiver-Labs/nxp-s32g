From 365901240ffd14faeb0019d151d91101f02d1ce1 Mon Sep 17 00:00:00 2001
From: Ghennadi Procopciuc <ghennadi.procopciuc@nxp.com>
Date: Fri, 29 Oct 2021 09:48:45 +0300
Subject: [PATCH] s32g3: Correct DDR settings

Issue: ALB-8016
Upstream-Status: Pending 

Signed-off-by: Ghennadi Procopciuc <ghennadi.procopciuc@nxp.com>
Signed-off-by: Zhantao Tang <zhantao.tang@windriver.com>
---
 drivers/nxp/s32g/ddr/s32g3/ddrc_cfg.c | 18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

diff --git a/drivers/nxp/s32g/ddr/s32g3/ddrc_cfg.c b/drivers/nxp/s32g/ddr/s32g3/ddrc_cfg.c
index e80160ff1..ebb242feb 100644
--- a/drivers/nxp/s32g/ddr/s32g3/ddrc_cfg.c
+++ b/drivers/nxp/s32g/ddr/s32g3/ddrc_cfg.c
@@ -46,8 +46,8 @@ struct regconf ddrc_cfg[] = {
 	{0x403c0060, 0x00000000U},
 	{0x403c0064, 0x006100e0U},
 	{0x403c0068, 0x008c0000U},
-	{0x403c0070, 0x033f7f40U},
-	{0x403c0074, 0x000007b0U},
+	{0x403c0070, 0x033f7f54U},
+	{0x403c0074, 0x00000780U},
 	{0x403c007c, 0x00000700U},
 	{0x403c00b8, 0x00000000U},
 	{0x403c00bc, 0x00000000U},
@@ -94,13 +94,13 @@ struct regconf ddrc_cfg[] = {
 	{0x403c01b8, 0x00000000U},
 	{0x403c01c0, 0x00000001U},
 	{0x403c01c4, 0x80000001U},
-	{0x403c0200, 0x00000017U},
-	{0x403c0204, 0x00080808U},
+	{0x403c0200, 0x00000014U},
+	{0x403c0204, 0x00050505U},
 	{0x403c0208, 0x00000000U},
-	{0x403c020c, 0x00000000U},
+	{0x403c020c, 0x14141400U},
 	{0x403c0210, 0x00001f1fU},
-	{0x403c0214, 0x07070707U},
-	{0x403c0218, 0x07070707U},
+	{0x403c0214, 0x04040404U},
+	{0x403c0218, 0x04040404U},
 	{0x403c021c, 0x00000f0fU},
 	{0x403c0220, 0x00003f3fU},
 	{0x403c0224, 0x00000000U},
@@ -148,10 +148,10 @@ struct regconf ddrc_cfg[] = {
 	{0x403c05f8, 0x003c0200U},
 	{0x403c05fc, 0x00000e00U},
 	{0x403c0600, 0x003c0200U},
-	{0x403c0b40, 0x00000000U},
-	{0x403c0b48, 0x00000000U},
 	{0x403c0f24, 0x0000ff10U},
 	{0x403c0f2c, 0x00000000U},
+	{0x403c0f38, 0x00000000U},
+	{0x403c0f40, 0x37ffffffU},
 };
 
 size_t ddrc_cfg_size = ARRAY_SIZE(ddrc_cfg);
-- 
2.25.1

